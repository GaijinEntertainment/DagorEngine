

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Placeable In-Game Light with Render Instance and Dynamic Model Support</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/sphinx_rtd_theme.css?v=3234e928" />
      <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css?v=6ad1a40c" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=fe408b2f" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/js/hoverxref.js"></script>
      <script src="../../_static/js/tooltipster.bundle.min.js"></script>
      <script src="../../_static/js/micromodal.min.js"></script>
      <script src="../../_static/js/versionwarning.js?v=d4224a34"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/design-tabs.js?v=36754332"></script>
      <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lighting Catalog" href="lighting_catalog.html" />
    <link rel="prev" title="Replacing or Modifying Lights in Props" href="replacing_or_modifying_lights.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Dagor Documentation
              <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../dagor-home/index.html">Dagor Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Getting Started with Dagor</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Assets and Assets Management</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../about-assets/index.html">Assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../all-about-blk/index.html">All About <code class="docutils literal notranslate"><span class="pre">.blk</span></code> Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../animations/index.html">Animations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../collisions/index.html">Collisions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Lighting</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lights_creation_guide.html">Lights Creation Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="lights.html">Lights</a></li>
<li class="toctree-l3"><a class="reference internal" href="flickering_lights.html">Flickering Lights</a></li>
<li class="toctree-l3"><a class="reference internal" href="photometric_lights.html">Photometric Lights (IES)</a></li>
<li class="toctree-l3"><a class="reference internal" href="adding_light_fixtures_to_building_composites.html">Adding Light Fixtures to Building Composites</a></li>
<li class="toctree-l3"><a class="reference internal" href="replacing_or_modifying_lights.html">Replacing or Modifying Lights in Props</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Placeable In-Game Light with Render Instance and Dynamic Model Support</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#feature-overview">Feature Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#light-template-structure">Light Template Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-configuration-dynmodel-with-rendinst-and-light">Example Configuration: Dynmodel with Rendinst and Light</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-configuration-static-light-fixture-with-rendinst-only">Example Configuration: Static Light Fixture with Rendinst Only</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tips-and-best-practices">Tips and Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#catalog">Catalog</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lighting_catalog.html">Lighting Catalog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../materials/index.html">Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shaders/index.html">Shaders</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../dagor-tools/index.html">Dagor Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/index.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials and Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-references/index.html">API References and Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Dagor Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Assets and Assets Management</a></li>
          <li class="breadcrumb-item"><a href="index.html">Lighting</a></li>
      <li class="breadcrumb-item active">Placeable In-Game Light with Render Instance and Dynamic Model Support</li>
  
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/assets/lighting/in_game_placeable_light_source.md.txt" rel="nofollow"> View page source</a>
      </li>
  <li class="wy-breadcrumbs-aside.github-icon">
    <a href="https://github.com/GaijinEntertainment/DagorEngine" target="_blank" rel="noopener">
      <img src="../../_static/_images/github-mark.png"
           alt="GitHub"
           style="height: 1.5em; vertical-align: text-bottom; " />
    </a>
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="placeable-in-game-light-with-render-instance-and-dynamic-model-support">
<h1>Placeable In-Game Light with Render Instance and Dynamic Model Support<a class="headerlink" href="#placeable-in-game-light-with-render-instance-and-dynamic-model-support" title="Link to this heading"></a></h1>
<section id="feature-overview">
<h2>Feature Overview<a class="headerlink" href="#feature-overview" title="Link to this heading"></a></h2>
<p>This feature enables the placement of light sources directly within the game
environment, providing immediate visual feedback. It allows developers to
fine-tune individual lights in real time without the need to create separate
templates for each variation. Instead, adjustments can be made using scene
overrides.</p>
<p>The system supports placing predefined light fixture templates that include both
the light source and associated rendinst or dynmodel components. To use this
functionality, a dedicated template must be created, containing references to
the appropriate mesh and light source assets.</p>
<p>For ease of use and clarity, the light template should ideally be
self-contained. This ensures that all necessary elements are defined within a
single template, making it easier to manage and review the setup at a glance.</p>
</section>
<section id="light-template-structure">
<h2>Light Template Structure<a class="headerlink" href="#light-template-structure" title="Link to this heading"></a></h2>
<p>A placeable light setup is defined using a game template that organizes all
required components. The structure typically includes the following elements:</p>
<ul class="simple">
<li><p><strong>Game Template Name</strong></p>
<ul>
<li><p><strong>Required Technical Templates</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">_use:t=&quot;entity_prefab&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_use:t=&quot;replicating&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_use:t=&quot;placeable_rendinst&quot;</span></code> (required if using a rendinst)</p></li>
</ul>
</li>
<li><p><strong>Light Template:</strong> Defines the light source configuration.</p></li>
<li><p><strong>Dynmodel Template:</strong> Specifies the dynamic model associated with the light
fixture.</p></li>
<li><p><strong>Rendinst Reference:</strong> (If applicable). Reference to a render instance.</p></li>
<li><p><strong>RelativeTransform Matrix</strong>: (Optional). Used to override the light’s
transform relative to the main entity.</p></li>
</ul>
</li>
</ul>
<p>To maintain modularity and ease of reuse, it is recommended to keep light
fixture templates separate from the light source definitions themselves. For
example, templates can be stored in:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;project_name&gt;/prog/gameBase/content/&lt;project_name&gt;/gamedata/templates/lights_placeable.blk
</pre></div>
</div>
</section>
<section id="example-configuration-dynmodel-with-rendinst-and-light">
<h2>Example Configuration: Dynmodel with Rendinst and Light<a class="headerlink" href="#example-configuration-dynmodel-with-rendinst-and-light" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>is_ring_light_tripod_stand_a_on_flicker{
                          // General template name for the object placed in the game.
                          // This example represents a tripod stand with a flickering light.

  _use:t=&quot;entity_prefab&quot;  // Required. Provides the base for relative transforms using local
                          // coordinates relative to the rendinst.
                          // Example matrix: [[1, 0, 0] [0, 1, 0] [0, 0, 1] [0, 0, 0]].

  _use:t=&quot;replicating&quot;    // Required. Enables server-side replication of the entity.

  _use:t=&quot;placeable_rendinst&quot;  // Required only when using a rendinst.
                               // Not needed for dynmodel-only setups.

  _use:t=&quot;is_ring_light_tripod_stand_a_flicker_mesh_a&quot;
                          // Required. Includes both the light template and dynmodel:
                          // - Light: &#39;is_ring_light_tripod_stand_a_flicker_light_a_template&#39;
                          // - Dynmodel: &#39;animchar__res:t=&quot;is_ring_light_tripod_stand_a_flicker_char&quot;&#39;

  ri_extra__name:t=&quot;is_ring_light_tripod_stand_a_base&quot;
                          // Reference to the rendinst (e.g., a tripod base without emissive parts).
                          // This component is separate from the dynmodel.

  &quot;entity_prefab__templatesToCreate:shared:object&quot;{
                          // Override for the light&#39;s relative transform.

    &quot;is_ring_light_tripod_stand_a_flicker_light_a:object&quot;{
                          // Ensure the light name matches the reference in the dynmodel template.
                          // In this example, the light &#39;is_ring_light_tripod_stand_a_flicker_mesh_a&#39;
                          // is referenced.

      relativeTransform:m=[    // Local transform matrix relative to the parent rendinst.
        [-1, 0, -8.9407e-08]   // This positions and orients the light as it would be configured
        [0, 1, 0]              // in a composite setup.
        [2.98023e-07, 0, -4.82543]
        [-3.3617e-05, 1.53435, -0.119995]
      ]
    }
  }
}
</pre></div>
</div>
</section>
<section id="example-configuration-static-light-fixture-with-rendinst-only">
<h2>Example Configuration: Static Light Fixture with Rendinst Only<a class="headerlink" href="#example-configuration-static-light-fixture-with-rendinst-only" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sovmod_electric_a_collet_a_lamp_on_light{
                               // General template name for a static light fixture.
                               // Combines a rendinst (lightbulb mesh) and a light source.
  _use:t=&quot;entity_prefab&quot;
  _use:t=&quot;replicating&quot;
  _use:t=&quot;placeable_rendinst&quot;
  ri_extra__name:t=&quot;sovmod_electric_a_collet_a_lamp_on&quot;

  &quot;entity_prefab__templatesToCreate:shared:object&quot;{
    &quot;omni_light_fluorescent_2_5_warm_a:object&quot;{
                               // Adds the light source as a child object via override.
                               // No prior definition is required in this template.
      relativeTransform:m=[
        [1, 0, 0]
        [0, 1, 0]
        [0, 0, 1]
        [0, -0.57, 0]
      ]
    }
  }
}
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/in_game_placeable_light_source_01.jpg"><img alt="sovmod_electric_a_collet_a_lamp_on_light" class="align-center" src="../../_images/in_game_placeable_light_source_01.jpg" style="width: 55em;" />
</a>
</section>
<section id="tips-and-best-practices">
<h2>Tips and Best Practices<a class="headerlink" href="#tips-and-best-practices" title="Link to this heading"></a></h2>
<ul>
<li><p><strong>Refreshing Template Visibility</strong></p>
<p>After placing a light fixture in the level, reloading the editor (<code class="docutils literal notranslate"><span class="pre">F12</span></code> then
<code class="docutils literal notranslate"><span class="pre">F12</span></code> again) is necessary to properly initialize the embedded light. Once
reloaded, the entity becomes available for further configuration.</p>
</li>
<li><p><strong>Saving Light Sources from the Scene</strong></p>
<p>You can save the placed light source directly into the mission scene using the
in-game editor (<code class="docutils literal notranslate"><span class="pre">F12</span></code>).</p>
<a class="reference internal image-reference" href="../../_images/in_game_placeable_light_source_02.jpg"><img alt="Saving Light Sources from the Scene" class="align-center" src="../../_images/in_game_placeable_light_source_02.jpg" style="width: 18em;" />
</a>
<p>The light will be saved to the currently active mission. For reusability, you
should later transfer all related data to a shared include file or common
template block.</p>
</li>
<li><p><strong>Obtaining the <code class="docutils literal notranslate"><span class="pre">relativeTransform</span></code> Matrix</strong></p>
<p>If you need to configure or replicate the light’s transform:</p>
<ul class="simple">
<li><p>Use the in-game inspector (<code class="docutils literal notranslate"><span class="pre">F2</span></code>) to access entity properties.</p></li>
<li><p>Activate the inspector with <code class="docutils literal notranslate"><span class="pre">Ctrl</span></code> + <code class="docutils literal notranslate"><span class="pre">Shift</span></code> + <code class="docutils literal notranslate"><span class="pre">;</span></code>.</p></li>
<li><p>Be sure to select the <strong>light object itself</strong>, not the parent light fixture
template.</p></li>
<li><p>You can retrieve the <code class="docutils literal notranslate"><span class="pre">relativeTransform</span></code> from an existing composite (CMP)
setup or directly from a configured in-game light.</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/in_game_placeable_light_source_03.jpg"><img alt="Obtaining relativeTransform matrix" class="align-center" src="../../_images/in_game_placeable_light_source_03.jpg" style="width: 55em;" />
</a>
</li>
<li><p><strong>Manual Transfer of Template Settings</strong></p>
<p>Currently, all template parameters must be manually copied. Automatic export
or save features are not supported at this time.</p>
</li>
<li><p><strong>Example: Light Override with Custom Parameters</strong></p>
<p>If needed, you can embed additional parameters such as color or intensity
directly within the light override block:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;entity_prefab__templatesToCreate:shared:object&quot;{
  &quot;omni_light_fluorescent_2_5_warm_a:object&quot;{
    relativeTransform:m=[[1, 0, 0] [0, 1, 0] [0, 0, 1] [0, -0.57, 0]]
    light__color:c=155, 170, 80, 255
  }
}
</pre></div>
</div>
</li>
<li><p><strong>Avoid Duplicating Lights</strong></p>
<p>Ensure that only one instance of the light is added. Duplicates can lead to
unintended visual or performance issues. You can verify the number of
instantiated light entities using the editor’s entity list or inspector view.</p>
</li>
</ul>
</section>
<section id="catalog">
<h2>Catalog<a class="headerlink" href="#catalog" title="Link to this heading"></a></h2>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 center-grid docutils">
<div class="sd-row sd-row-cols-3 sd-row-cols-xs-3 sd-row-cols-sm-3 sd-row-cols-md-3 sd-row-cols-lg-3 sd-g-1 sd-g-xs-1 sd-g-sm-1 sd-g-md-1 sd-g-lg-1 docutils">
<div class="sd-col sd-d-flex-row sd-align-major-center docutils">
<p><strong>sovmod_electric_a_collet_a_lamp_on_light</strong></p>
</div>
<div class="sd-col sd-d-flex-row sd-align-major-center docutils">
<p><strong>is_ring_light_tripod_stand_a_on_flicker</strong></p>
</div>
<div class="sd-col sd-d-flex-row sd-align-major-center docutils">
<p><strong>flashing_light_yellow_a_flicker</strong></p>
</div>
<div class="sd-col sd-d-flex-column center-cell docutils">
<a class="image-gap reference internal image-reference" href="../../_images/in_game_placeable_light_source_04.jpg"><img alt="sovmod_electric_a_collet_a_lamp_on_light" class="image-gap align-center" src="../../_images/in_game_placeable_light_source_04.jpg" style="height: 20em;" />
</a>
</div>
<div class="sd-col sd-d-flex-column center-cell docutils">
<a class="image-gap reference internal image-reference" href="../../_images/in_game_placeable_light_source_05.jpg"><img alt="is_ring_light_tripod_stand_a_on_flicker" class="image-gap align-center" src="../../_images/in_game_placeable_light_source_05.jpg" style="height: 20em;" />
</a>
</div>
<div class="sd-col sd-d-flex-column center-cell docutils">
<a class="reference internal image-reference" href="../../_images/in_game_placeable_light_source_06.jpg"><img alt="flashing_light_yellow_a_flicker" class="align-center" src="../../_images/in_game_placeable_light_source_06.jpg" style="height: 20em;" />
</a>
</div>
<div class="sd-col sd-d-flex-row sd-align-major-center docutils">
<p>Non-flickering</p>
</div>
<div class="sd-col sd-d-flex-row sd-align-major-center docutils">
<p>Flickering</p>
</div>
<div class="sd-col sd-d-flex-row sd-align-major-center docutils">
<p>Flickering</p>
</div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="replacing_or_modifying_lights.html" class="btn btn-neutral float-left" title="Replacing or Modifying Lights in Props" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lighting_catalog.html" class="btn btn-neutral float-right" title="Lighting Catalog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Gaijin Entertainment 2025.
      <span class="lastupdated">Last updated on Oct 04, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>