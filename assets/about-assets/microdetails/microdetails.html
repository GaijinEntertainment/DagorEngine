

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Microdetails</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=55b73dce" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/sphinx_rtd_theme.css?v=3234e928" />
      <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css?v=6ad1a40c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=fe408b2f" />

  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/js/hoverxref.js"></script>
      <script src="../../../_static/js/tooltipster.bundle.min.js"></script>
      <script src="../../../_static/js/micromodal.min.js"></script>
      <script src="../../../_static/js/versionwarning.js?v=d4224a34"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../../_static/design-tabs.js?v=36754332"></script>
      <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Occluder Box" href="../occluder/index.html" />
    <link rel="prev" title="Microdetails" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Dagor Documentation
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../dagor-home/index.html">Dagor Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.html">Getting Started with Dagor</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Assets and Assets Management</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Assets</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../about_assets.html">Introduction to Assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../how-to-test-assets-on-maps/index.html">How to Test Assets on Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ladders/index.html">Ladders</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Microdetails</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Microdetails</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#about-microdetails">About Microdetails</a></li>
<li class="toctree-l5"><a class="reference internal" href="#microdetails-in-war-thunder">Microdetails in War Thunder</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#technology">Technology</a><ul>
<li class="toctree-l7"><a class="reference internal" href="#microdetails-for-terrain">Microdetails for Terrain</a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#enabling-microdetails-in-tools">Enabling Microdetails in Tools</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#microdetails-in-danetgame-based-projects">Microdetails in daNetGame-based Projects</a></li>
<li class="toctree-l5"><a class="reference internal" href="#shader-settings">Shader Settings</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#shader-simple-aces-rendinst-simple-for-rendinst-and-simple-aces-for-prefabs-or-dynamic-masked-chrome-bump-for-destrs">Shader: <code class="docutils literal notranslate"><span class="pre">simple_aces</span></code>/<span class="xref myst"><code class="docutils literal notranslate"><span class="pre">rendinst_simple</span></code></span> for Rendinst and <code class="docutils literal notranslate"><span class="pre">simple_aces</span></code> for Prefabs (or <code class="docutils literal notranslate"><span class="pre">dynamic_masked_chrome_bump</span></code> for Destrs)</a></li>
<li class="toctree-l6"><a class="reference internal" href="#shader-rendinst-perlin-layered-for-rendinst-or-dynamic-perlin-layered-for-destrs">Shader: <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">rendinst_perlin_layered</span></code></span> for Rendinst (or <code class="docutils literal notranslate"><span class="pre">dynamic_perlin_layered</span></code> for Destrs)</a></li>
<li class="toctree-l6"><a class="reference internal" href="#shader-rendinst-layered-for-rendinst">Shader: <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">rendinst_layered</span></code></span> for Rendinst</a></li>
<li class="toctree-l6"><a class="reference internal" href="#shader-layered-static-for-prefabs">Shader: layered_static for Prefabs</a></li>
<li class="toctree-l6"><a class="reference internal" href="#shader-land-mesh-height-decal-for-decals">Shader: <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">land_mesh_height_decal</span></code></span> for Decals</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#microdetail-configuration-in-danetgame-based-projects">Microdetail Configuration in daNetGame-based Projects</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#rotating-microdetails-by-90-degrees">Rotating Microdetails by 90 Degrees</a></li>
<li class="toctree-l6"><a class="reference internal" href="#adjusting-microdetail-intensity">Adjusting Microdetail Intensity</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../occluder/index.html">Occluder Box</a></li>
<li class="toctree-l3"><a class="reference internal" href="../procedural-rendinst-painting/index.html">Procedural Rendinst Painting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../all-about-blk/index.html">All About <code class="docutils literal notranslate"><span class="pre">.blk</span></code> Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../animations/index.html">Animations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../collisions/index.html">Collisions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lighting/index.html">Lighting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../materials/index.html">Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shaders/index.html">Shaders</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../dagor-tools/index.html">Dagor Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../projects/index.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials and Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api-references/index.html">API References and Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Dagor Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Assets and Assets Management</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Assets</a></li>
          <li class="breadcrumb-item"><a href="index.html">Microdetails</a></li>
      <li class="breadcrumb-item active">Microdetails</li>
  
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/assets/about-assets/microdetails/microdetails.md.txt" rel="nofollow"> View page source</a>
      </li>
  <li class="wy-breadcrumbs-aside.github-icon">
    <a href="https://github.com/GaijinEntertainment/DagorEngine" target="_blank" rel="noopener">
      <img src="../../../_static/_images/github-mark.png"
           alt="GitHub"
           style="height: 1.5em; vertical-align: text-bottom; " />
    </a>
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="microdetails">
<h1>Microdetails<a class="headerlink" href="#microdetails" title="Link to this heading"></a></h1>
<section id="about-microdetails">
<h2>About Microdetails<a class="headerlink" href="#about-microdetails" title="Link to this heading"></a></h2>
<p>Microdetails are fine-detail textures, such as skin pores, wood grain veins,
grains of sand, and moss leaves. They are used to add extra detail to both
unique textures on objects and tiling textures.</p>
<p>Currently, microdetails are employed in two main project areas:</p>
<ul class="simple">
<li><p>War Thunder-based projects</p></li>
<li><p>daNetGame-based projects</p></li>
</ul>
</section>
<section id="microdetails-in-war-thunder">
<h2>Microdetails in War Thunder<a class="headerlink" href="#microdetails-in-war-thunder" title="Link to this heading"></a></h2>
<section id="technology">
<h3>Technology<a class="headerlink" href="#technology" title="Link to this heading"></a></h3>
<p>Microdetails for assets are no longer sourced from <code class="docutils literal notranslate"><span class="pre">levelname.blk</span></code>, but are
instead retrieved from a separate list located at
<code class="docutils literal notranslate"><span class="pre">&lt;project_name&gt;/develop/gameBase/config/_assetsMicroDetails.blk</span></code>.</p>
<table class="docutils align-center">
<thead>
<tr class="row-odd"><th class="head"><p>Index</p></th>
<th class="head"><p>Entity</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_stone_a_tex_n</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_scan_gravel_a_tex_n</span></code></p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_sand_a_tex_n</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_soil_a_tex_n</span></code></p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_generic_granules_a_tex_n</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_grass_a_tex_n</span></code></p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_forest_floor_a_tex_n</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_fabric_a_tex_n</span></code></p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_wood_b_tex_n</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_metal_a_tex_n</span></code></p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_snow_a_tex_n</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_generic_granules_a_tex_n</span></code></p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">microdetail_concrete_b_tex_n</span></code></p></td>
</tr>
</tbody>
</table>
<p>If a particular microdetail is missing, such as <code class="docutils literal notranslate"><span class="pre">concrete</span></code>, you can add it to
the list as entries 12, 13, 14, and so on, without any limit. These indices are
determined by their order in the list.</p>
<section id="microdetails-for-terrain">
<h4>Microdetails for Terrain<a class="headerlink" href="#microdetails-for-terrain" title="Link to this heading"></a></h4>
<p>The technology for terrain microdetails incorporates a “layered” approach: from
the stone base layer up to the top moss layer. This method is known as the
“layer cake” system, which looks like this:</p>
<table class="docutils align-center">
<thead>
<tr class="row-odd"><th class="head"><p>Index</p></th>
<th class="head"><p>Entity</p></th>
<th class="head"><p>Color in R-Channel</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Stone</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Small stones (gravel)</p></td>
<td><p>23</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Sand</p></td>
<td><p>46</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Soil (or snow)</p></td>
<td><p>69</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Unique for map 1 (often ice)</p></td>
<td><p>93</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Grass</p></td>
<td><p>116</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Moss/leaves</p></td>
<td><p>139</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>Unique for map 2</p></td>
<td><p>162</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>Unique for assets 1 (often wood)</p></td>
<td><p>186</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>Unique for assets 2 (often liquid/metal)</p></td>
<td><p>209</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>Unique for assets 3 (often noise)</p></td>
<td><p>232</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>Unique for assets 4 (often granules)</p></td>
<td><p>255</p></td>
</tr>
</tbody>
</table>
<p>Microdetails appear on terrain according to their corresponding entities. For
example, grass microdetails appear on grass, stone microdetails on stone, and
sand on sand.</p>
<p>This is controlled by the “color in the R-channel”, effectively acting as an
index for the microdetails stored in the B-channel of the texture.</p>
<ul class="simple">
<li><p>On each map, level designers can also specify a general scale for the
microdetails.</p></li>
<li><p>This is set in the <code class="docutils literal notranslate"><span class="pre">level.blk</span></code> file and typically appears in the following
format:</p></li>
</ul>
<div class="highlight-blk notranslate"><div class="highlight"><pre><span></span><span class="se">micro_details</span><span class="ni">{</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_stone_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_scan_gravel_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_sand_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_soil_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_generic_granules_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_grass_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_forest_floor_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_generic_granules_a_tex_n</span>

  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_wood_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_liquid_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_snow_a_tex_n</span>
  <span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">microdetail_generic_granules_a_tex_n</span>

  <span class="no">land_micro_details_uv_scale</span><span class="nt">:r=</span><span class="m">0.51</span>
<span class="ni">}</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>There are two types of <code class="docutils literal notranslate"><span class="pre">level.blk</span></code> files:</p>
<ol class="arabic simple">
<li><p>Files ending in <code class="docutils literal notranslate"><span class="pre">.level.blk</span></code>, such as <code class="docutils literal notranslate"><span class="pre">avg_berlin.level.blk</span></code>.</p></li>
<li><p>Files located in <code class="docutils literal notranslate"><span class="pre">&lt;project_name&gt;/develop/gameBase/levels</span></code> that do not end
with <code class="docutils literal notranslate"><span class="pre">.level.blk</span></code>, such as <code class="docutils literal notranslate"><span class="pre">avg_berlin.blk</span></code>.</p></li>
</ol>
<p>For microdetail configuration, you should refer to the second type.</p>
<p>If you’re working in the SDK, the files you need can be found in
<code class="docutils literal notranslate"><span class="pre">C:\WarThunder\WarThunderCDK\levels</span></code>, such as <code class="docutils literal notranslate"><span class="pre">empty_location.blk</span></code>.</p>
</div>
</section>
</section>
<section id="enabling-microdetails-in-tools">
<h3>Enabling Microdetails in Tools<a class="headerlink" href="#enabling-microdetails-in-tools" title="Link to this heading"></a></h3>
<p>Because microdetails vary between maps, they will display correctly in the
<a class="reference internal" href="../../../dagor-tools/daeditor/daeditor/index.html"><span class="std std-doc">daEditor</span></a> (as it opens the
maps). However, in <a class="reference internal" href="../../../dagor-tools/asset-viewer/asset-viewer/index.html"><span class="std std-doc">Asset
Viewer</span></a>, microdetails
must be enabled manually.</p>
<p>If the guides for Asset Viewer or daEditor aren’t sufficient, select the
appropriate <code class="docutils literal notranslate"><span class="pre">level.blk</span></code> for your map in the Asset Viewer’s sun tool:</p>
<a class="reference internal image-reference" href="../../../_images/microdetails_01.jpg"><img alt="Level BLK selection" class="align-center" src="../../../_images/microdetails_01.jpg" style="width: 30em;" />
</a>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>By default, microdetails are disabled in <em>Asset Viewer</em>, and assets using them
will appear black. To resolve this, ensure the correct <code class="docutils literal notranslate"><span class="pre">level.blk</span></code> is loaded.</p>
</div>
</section>
</section>
<section id="microdetails-in-danetgame-based-projects">
<h2>Microdetails in daNetGame-based Projects<a class="headerlink" href="#microdetails-in-danetgame-based-projects" title="Link to this heading"></a></h2>
<p>The system in daNetGame-based projects is similar to War Thunder but with key
differences.</p>
<ol class="arabic">
<li><p>Microdetails on terrain function similarly but are not applied to assets.</p></li>
<li><p>On assets, character-specific microdetails are used and are not part of the
“layer cake” system.</p>
<table class="docutils align-center">
<thead>
<tr class="row-odd"><th class="head"><p>Index</p></th>
<th class="head"><p>Entity</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Fine noise</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Fabric</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Coarse fabric (burlap)</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Felt</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Knitted wool</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Leather</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Metal</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>Wood</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>There are no issues with applying these microdetails: simply use the ones
that fit your needs. They remain consistent.</p></li>
<li><p>For this reason, no manual configuration is necessary in the tools:
microdetails are always active.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In addition to standard character microdetails, you can also add custom
microdetails, provided there is enough texture memory available.</p>
</div>
<p>These microdetails can also be used for <code class="docutils literal notranslate"><span class="pre">rendinst</span></code> object types. The only
limitation is that their size must be 256x256, which matches the size of the
older microdetail textures. Pre-existing textures are usually found in
<code class="docutils literal notranslate"><span class="pre">&lt;project_name&gt;/develop/assets/common/textures/character_microdetails</span></code>.</p>
<p>To add your new textures, include them in the following file:
<code class="docutils literal notranslate"><span class="pre">&lt;project_name&gt;/develop/gameBase/config/character_micro_details.blk</span></code>.</p>
<p>Add a line like this in the <code class="docutils literal notranslate"><span class="pre">character_micro_details{}</span></code> block:</p>
<div class="highlight-blk notranslate"><div class="highlight"><pre><span></span><span class="no">micro_detail</span><span class="nt">:t=</span><span class="no">your_texture_name_tex_n</span>*
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>When testing new textures in Asset Viewer, remember that changes to textures
will not update automatically. After making any changes, you must reload Asset
Viewer to see the latest results.</p>
</div>
</section>
<section id="shader-settings">
<h2>Shader Settings<a class="headerlink" href="#shader-settings" title="Link to this heading"></a></h2>
<p>Different types of objects and shaders have their own specific configurations.
In most cases, these settings are consistent across projects, with only rare
exceptions (which will be discussed separately).</p>
<section id="shader-simple-aces-rendinst-simple-for-rendinst-and-simple-aces-for-prefabs-or-dynamic-masked-chrome-bump-for-destrs">
<h3>Shader: <code class="docutils literal notranslate"><span class="pre">simple_aces</span></code>/<a class="reference internal" href="../../shaders/dng-shaders/rendinst_simple.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">rendinst_simple</span></code></span></a> for Rendinst and <code class="docutils literal notranslate"><span class="pre">simple_aces</span></code> for Prefabs (or <code class="docutils literal notranslate"><span class="pre">dynamic_masked_chrome_bump</span></code> for Destrs)<a class="headerlink" href="#shader-simple-aces-rendinst-simple-for-rendinst-and-simple-aces-for-prefabs-or-dynamic-masked-chrome-bump-for-destrs" title="Link to this heading"></a></h3>
<p>This shader uses the first UV channel for mapping. Since the UV layout is
usually unique, two issues may arise:</p>
<ol class="arabic simple">
<li><p>Seams may appear on the model due to unstitched UV shells.</p></li>
<li><p>Microdetails may appear stretched along one axis, as microdetail textures are
always square, while the object’s texture may be rectangular.</p></li>
</ol>
<p>The following three parameters are used for configuration:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">script:t=&quot;micro_detail_layer=11&quot;</span></code>: Where <code class="docutils literal notranslate"><span class="pre">11</span></code> is the microdetail layer index,
ranging from <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">11</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">script:t=&quot;micro_detail_layer_uv_scale=75.17&quot;</span></code>: Defines the tiling of the
microdetail. A higher value results in a finer pattern.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">script:t=&quot;micro_detail_layer_v_scale=0.5&quot;</span></code>: Scales the microdetail along the
vertical axis, addressing the issue of rectangular UV mapping on the asset.</p></li>
</ul>
</section>
<section id="shader-rendinst-perlin-layered-for-rendinst-or-dynamic-perlin-layered-for-destrs">
<h3>Shader: <a class="reference internal" href="../../shaders/rendinst_perlin_layered.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">rendinst_perlin_layered</span></code></span></a> for Rendinst (or <code class="docutils literal notranslate"><span class="pre">dynamic_perlin_layered</span></code> for Destrs)<a class="headerlink" href="#shader-rendinst-perlin-layered-for-rendinst-or-dynamic-perlin-layered-for-destrs" title="Link to this heading"></a></h3>
<p>The configuration is similar to
<a class="reference internal" href="../../shaders/dng-shaders/rendinst_simple.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">rendinst_simple</span></code></span></a>.</p>
</section>
<section id="shader-rendinst-layered-for-rendinst">
<h3>Shader: <a class="reference internal" href="../../shaders/rendinst_layered.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">rendinst_layered</span></code></span></a> for Rendinst<a class="headerlink" href="#shader-rendinst-layered-for-rendinst" title="Link to this heading"></a></h3>
<p>Microdetails are applied to material tiles that use the third UV channel. This
channel is typically procedural with stitched UV shells, preventing the issues
seen in the <code class="docutils literal notranslate"><span class="pre">simple_aces</span></code> shader.</p>
<p>The following four parameters are used for configuration:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">script:t=&quot;micro_detail_layer1=0&quot;</span></code>: Microdetail index for detail layer 1. The
default value is <code class="docutils literal notranslate"><span class="pre">-1</span></code>, which disables it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">script:t=&quot;micro_detail_layer2=3&quot;</span></code>: Microdetail index for detail layer 2. The
default value is <code class="docutils literal notranslate"><span class="pre">-1</span></code>, which disables it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">script:t=&quot;micro_detail_layer1_uv_scale=5.17&quot;</span></code>: Tiling of microdetail layer 1.
A higher value results in a finer pattern.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">script:t=&quot;micro_detail_layer2_uv_scale=5.13&quot;</span></code>: Tiling of microdetail layer 2.
A higher value results in a finer pattern.</p></li>
</ul>
</section>
<section id="shader-layered-static-for-prefabs">
<h3>Shader: layered_static for Prefabs<a class="headerlink" href="#shader-layered-static-for-prefabs" title="Link to this heading"></a></h3>
<p>This shader differs slightly from
<a class="reference internal" href="../../shaders/rendinst_layered.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">rendinst_layered</span></code></span></a>, but microdetail
configuration is done in the same way (see above).</p>
</section>
<section id="shader-land-mesh-height-decal-for-decals">
<h3>Shader: <a class="reference internal" href="../../shaders/dng-shaders/land_mesh_height_decal.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">land_mesh_height_decal</span></code></span></a> for Decals<a class="headerlink" href="#shader-land-mesh-height-decal-for-decals" title="Link to this heading"></a></h3>
<p>Decals derive their microdetails from the terrain they are applied to. However,
there are a few additional settings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">script:t=&quot;write_vtexmask=4095&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">script:t=&quot;alpha_gamma=0.2,0.01,1,1&quot;</span></code></p></li>
</ul>
<ol class="arabic">
<li><p>The <code class="docutils literal notranslate"><span class="pre">write_vtexmask</span></code> parameter specifies which channels of the virtual
texture should not be written to.</p>
<ul class="simple">
<li><p>The first 4 bits (1111) correspond to the diffuse (RGB) + alpha.</p></li>
<li><p>The second 4 bits (1111) correspond to the normal (RG) + microdetail (B) +
alpha.</p></li>
<li><p>The third 4 bits (1111) correspond to AO ®, translucency (G), smoothness
(B), and alpha.</p></li>
</ul>
<p>In binary, each decimal value has a corresponding binary representation:</p>
<ul class="simple">
<li><p>r = 1 = <code class="docutils literal notranslate"><span class="pre">1</span></code></p></li>
<li><p>g = 2 = <code class="docutils literal notranslate"><span class="pre">10</span></code></p></li>
<li><p>b = 4 = <code class="docutils literal notranslate"><span class="pre">100</span></code></p></li>
<li><p>a = 8 = <code class="docutils literal notranslate"><span class="pre">1000</span></code></p></li>
</ul>
<p><strong>Example:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">write_vtexmask=15</span></code>: <code class="docutils literal notranslate"><span class="pre">(1+2+4+8)</span></code> writes only the diffuse and alpha (1111
0000 0000).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_vtexmask=240</span></code>: <code class="docutils literal notranslate"><span class="pre">(1+2+4+8)*16</span></code> writes only the normal, microdetail,
and alpha (0000 1111 0000).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_vtexmask=176</span></code>: <code class="docutils literal notranslate"><span class="pre">(1+2+8)*16</span></code> writes only the normal and alpha (0000
1101 0000).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_vtexmask=3248</span></code>: <code class="docutils literal notranslate"><span class="pre">(1+2+8)*16</span> <span class="pre">+</span> <span class="pre">(4+8)*256</span></code> writes only normal+alpha
and smoothness+alpha (0000 1101 0011).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_vtexmask=4095</span></code>: <code class="docutils literal notranslate"><span class="pre">(15+15*16+15*256)</span></code> writes everything (default, no
need to specify).</p></li>
</ul>
<p>You can calculate these values using a programmer’s calculator. Enter the
bits you want to write, as described in the examples above. Keep in mind that
the calculator displays bits in reverse order, but the sequence described
here remains consistent.</p>
<p><strong>Examples:</strong></p>
<ol class="arabic">
<li><p>To write only the diffuse + alpha, use the first 4 bits (<code class="docutils literal notranslate"><span class="pre">1111</span></code>), convert
to binary, and then to decimal – which equals <code class="docutils literal notranslate"><span class="pre">15</span></code>.</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 center-grid docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-row sd-align-major-center center-cell docutils">
<a class="image-gap reference internal image-reference" href="../../../_images/microdetails_02.jpg"><img alt="Binary format" class="image-gap" src="../../../_images/microdetails_02.jpg" style="height: 15em;" />
</a>
<a class="reference internal image-reference" href="../../../_images/microdetails_03.jpg"><img alt="Decimal format" src="../../../_images/microdetails_03.jpg" style="height: 15em;" />
</a>
</div>
</div>
</div>
</li>
<li><p>To write only normal, microdetail, and alpha, the first 4 bits (diffuse+A)
are all zeros, and the second 4 bits are all ones.</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 center-grid docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-row sd-align-major-center center-cell docutils">
<a class="image-gap reference internal image-reference" href="../../../_images/microdetails_04.jpg"><img alt="Binary format" class="image-gap" src="../../../_images/microdetails_04.jpg" style="height: 15em;" />
</a>
<a class="reference internal image-reference" href="../../../_images/microdetails_05.jpg"><img alt="Decimal format" src="../../../_images/microdetails_05.jpg" style="height: 15em;" />
</a>
</div>
</div>
</div>
</li>
<li><p>To write only normal and smoothness, the first 4 bits (diffuse+A) are
<code class="docutils literal notranslate"><span class="pre">0000</span></code>, the second 4 bits are <code class="docutils literal notranslate"><span class="pre">1101</span></code> (normal+alpha without microdetail),
and the third 4 bits are <code class="docutils literal notranslate"><span class="pre">0011</span></code> (smoothness+alpha without AO and
translucency).</p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 center-grid docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-1 sd-row-cols-md-1 sd-row-cols-lg-1 docutils">
<div class="sd-col sd-d-flex-row sd-align-major-center center-cell docutils">
<a class="image-gap reference internal image-reference" href="../../../_images/microdetails_06.jpg"><img alt="Binary format" class="image-gap" src="../../../_images/microdetails_06.jpg" style="height: 15em;" />
</a>
<a class="reference internal image-reference" href="../../../_images/microdetails_07.jpg"><img alt="Decimal format" src="../../../_images/microdetails_07.jpg" style="height: 15em;" />
</a>
</div>
</div>
</div>
</li>
</ol>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">alpha_gamma</span></code> parameter adjusts the strength of various decal attributes.
By default, it’s set to <code class="docutils literal notranslate"><span class="pre">alpha_gamma</span> <span class="pre">=</span> <span class="pre">1,1,1,1</span></code>.</p>
<ul class="simple">
<li><p>First value: Diffuse</p></li>
<li><p>Second value: Normal and microdetail</p></li>
<li><p>Third value: Smoothness, AO, and translucency</p></li>
<li><p>Fourth value: Displacement</p></li>
</ul>
<p>Each value represents a gamma (power) function. Lower values increase the
intensity of the parameter they affect.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">alpha_gamma</span> <span class="pre">=</span> <span class="pre">1,0.01,1,1</span></code> makes the normal and microdetail very
sharp (<code class="docutils literal notranslate"><span class="pre">alpha</span> <span class="pre">0.5</span></code> becomes <code class="docutils literal notranslate"><span class="pre">0.5^0.01</span> <span class="pre">=</span> <span class="pre">0.993</span></code>). Conversely, <code class="docutils literal notranslate"><span class="pre">alpha_gamma</span> <span class="pre">=</span> <span class="pre">8,1,1,1</span></code> makes the diffuse very faint (<code class="docutils literal notranslate"><span class="pre">0.5^8</span> <span class="pre">=</span> <span class="pre">0.004</span></code>).</p>
</li>
</ol>
</section>
</section>
<section id="microdetail-configuration-in-danetgame-based-projects">
<h2>Microdetail Configuration in daNetGame-based Projects<a class="headerlink" href="#microdetail-configuration-in-danetgame-based-projects" title="Link to this heading"></a></h2>
<section id="rotating-microdetails-by-90-degrees">
<h3>Rotating Microdetails by 90 Degrees<a class="headerlink" href="#rotating-microdetails-by-90-degrees" title="Link to this heading"></a></h3>
<p>In daNetGame-based projects, there’s an option to rotate the microdetail
orientation by 90 degrees, useful when the asset’s UV mapping is incorrect. The
rotation can only be applied at 90-degree increments.</p>
<p>Use the parameter <code class="docutils literal notranslate"><span class="pre">script:t=&quot;micro_detail_layer_swap_uv=1&quot;</span></code> to achieve this.</p>
<p>For all rendinst shaders that use microdetails, this parameter swaps the U and V
coordinates during microdetail application.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code>: Default, no changes to coordinates.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code>: Swaps the U and V coordinates, effectively rotating the microdetail by 90
degrees.</p></li>
</ul>
<p>This works in all prop shaders within daNetGame-based projects.</p>
</section>
<section id="adjusting-microdetail-intensity">
<h3>Adjusting Microdetail Intensity<a class="headerlink" href="#adjusting-microdetail-intensity" title="Link to this heading"></a></h3>
<p>In daNetGame-based projects, you can also adjust the intensity of microdetails.</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">script:t=&quot;micro_detail_layer_intensity=1&quot;</span></code> allows control over
intensity, with a range from <code class="docutils literal notranslate"><span class="pre">0</span></code> to infinity (the default value is <code class="docutils literal notranslate"><span class="pre">1</span></code>).</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Microdetails" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../occluder/index.html" class="btn btn-neutral float-right" title="Occluder Box" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Gaijin Entertainment 2025.
      <span class="lastupdated">Last updated on Nov 18, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>