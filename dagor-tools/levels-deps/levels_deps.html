

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>levels.deps</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.custom.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.bundle.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-shadow.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-punk.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-noir.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-light.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-borderless.min.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/micromodal.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/sphinx_rtd_theme.css?v=3234e928" />
      <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css?v=6ad1a40c" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=fe408b2f" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/js/hoverxref.js"></script>
      <script src="../../_static/js/tooltipster.bundle.min.js"></script>
      <script src="../../_static/js/micromodal.min.js"></script>
      <script src="../../_static/js/versionwarning.js?v=d4224a34"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/design-tabs.js?v=36754332"></script>
      <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Performance Rating Statistics Panel" href="../performance-rate-stat-panel/index.html" />
    <link rel="prev" title="levels.deps" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Dagor Documentation
              <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../dagor-home/index.html">Dagor Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Getting Started with Dagor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../assets/index.html">Assets and Assets Management</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Dagor Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../addons/index.html">Add-ons for Blender and 3ds Max</a></li>
<li class="toctree-l2"><a class="reference internal" href="../asset-viewer/index.html">Asset Viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blk/index.html">BLK File Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building-resources/index.html">Building Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daeditor/index.html">daEditor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dag2rires/index.html">dag2riRes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dascript-code-formatter/index.html">daScript Code Formatter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dear-imgui/index.html">Dear ImGui and ImPlot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../impostor-baker/index.html">Impostor Baker</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">levels.deps</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">levels.deps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#texture-to-asset-dependency-log">Texture-to-Asset Dependency Log</a></li>
<li class="toctree-l5"><a class="reference internal" href="#asset-to-texture-dependency-log">Asset-to-Texture Dependency Log</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#tool-internals">Tool Internals</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#file-structure">File Structure</a></li>
<li class="toctree-l5"><a class="reference internal" href="#batch-files">Batch Files</a></li>
<li class="toctree-l5"><a class="reference internal" href="#tool-configurations">Tool Configurations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../performance-rate-stat-panel/index.html">Performance Rating Statistics Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shader-compiler/index.html">Shader Compiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../substance-designer/index.html">Substance Designer Mip Generator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../projects/index.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials and Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-references/index.html">API References and Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Dagor Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Dagor Tools</a></li>
          <li class="breadcrumb-item"><a href="index.html">levels.deps</a></li>
      <li class="breadcrumb-item active">levels.deps</li>
  
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/dagor-tools/levels-deps/levels_deps.md.txt" rel="nofollow"> View page source</a>
      </li>
  <li class="wy-breadcrumbs-aside.github-icon">
    <a href="https://github.com/GaijinEntertainment/DagorEngine" target="_blank" rel="noopener">
      <img src="../../_static/_images/github-mark.png"
           alt="GitHub"
           style="height: 1.5em; vertical-align: text-bottom; " />
    </a>
  </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="levels-deps">
<h1>levels.deps<a class="headerlink" href="#levels-deps" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The levels.deps tool provides two logs that are essential for tracking asset and
texture dependencies:</p>
<ol class="arabic simple">
<li><p><strong>Texture-to-Asset Dependency Log</strong>. This log shows which assets are using
specific textures. With this information, you can precisely identify which
assets need to have a texture removed to ensure it no longer appears in a
certain location (or, conversely, determine which assets should be removed
from a location).</p></li>
<li><p><strong>Asset-to-Texture Dependency Log</strong>. This log identifies which textures are
used by specific assets. It also helps you determine whether a texture is
used exclusively by a particular asset or is shared across multiple assets.
Additionally, this log displays the vertex buffer for each asset, as well as
the global buffer for the map.</p></li>
</ol>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h2>
<p>The usage process is consistent across all projects:</p>
<ol class="arabic simple">
<li><p>Navigate to the <code class="docutils literal notranslate"><span class="pre">&lt;engine_root&gt;/tools/dagor3_cdk/util64/</span></code> directory.</p></li>
<li><p>Run the appropriate batch file.</p></li>
<li><p>Wait for the tool to process all the maps.</p></li>
<li><p>Once processing is complete, navigate to the output directory:
<code class="docutils literal notranslate"><span class="pre">levels.deps/&lt;project_name&gt;</span></code>.</p></li>
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">.deps</span></code> file for the desired map to access the two types of logs:</p>
<ul class="simple">
<li><p><strong>Texture-to-Asset Dependency Log</strong></p></li>
<li><p><strong>Asset-to-Texture Dependency Log</strong></p></li>
</ul>
</li>
</ol>
<section id="texture-to-asset-dependency-log">
<h3>Texture-to-Asset Dependency Log<a class="headerlink" href="#texture-to-asset-dependency-log" title="Link to this heading"></a></h3>
<p>This is the first log in the file, which indicates which assets are using a
specific texture.</p>
<p>The log format typically looks like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[texture size] texture name &lt;- asset(s)
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>referenced 752 DDSx (4 root, legend: [WxH memSz] TEX &lt;- RES...):
[ 256x256 85K] african_fabric_cover_d_tex_d* &lt;- debris_clothes_f;
[ 256x256 85K] african_fabric_cover_h_tex_d* &lt;- debris_clothes_e;
[ 256x256 85K] african_fabric_cover_tex_n*   &lt;- debris_clothes_e; debris_clothes_f;
.........................
total 874M for 752 texture(s)
</pre></div>
</div>
</section>
<section id="asset-to-texture-dependency-log">
<h3>Asset-to-Texture Dependency Log<a class="headerlink" href="#asset-to-texture-dependency-log" title="Link to this heading"></a></h3>
<p>This is the second log in the file, which provides the following information:</p>
<ul class="simple">
<li><p>Which textures are used by a specific asset.</p></li>
<li><p>Whether these textures are unique to that asset or shared across multiple
assets.</p></li>
<li><p>The vertex buffer for each asset and the global vertex buffer for the map.</p></li>
</ul>
<p>The log format typically looks like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[asset vertex buffer + unique texture size] asset name -&gt; unique textures; shared textures;
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>referenced 3428 resources (1704 root, legend: [resVB + uniqueTex] RES -&gt; unique{TEX...}; shared{TEX...}):
* [ 1345K+ 0K] 88mm_flak_36_canon_a            -&gt; shared[2]={ flak_36_set_tex_d*; flak_36_set_tex_n*; };
               88mm_flak_36_canon_a_collision

* [ 1345K+ 0K] 88mm_flak_36_canon_b            -&gt; shared[2]={ flak_36_set_tex_d*; flak_36_set_tex_n*; };
               88mm_flak_36_canon_b_collision

* [ 71K+ 170K] wooden_power_pole_a             -&gt; unique[2]={ insulator_tex_d*; insulator_tex_n*; }; shared[7]={ decal_modulate_leaks_bottom_tex_m*;};
.........................
total 322.4M (VB/IB) for 3428 resource(s)      // total vertex buffer for the location.
</pre></div>
</div>
<p>This log is particularly useful because of the vertex buffer data, which helps
identify potential issues with excessive texture channels (e.g., if the vertex
buffer size is very large).</p>
</section>
</section>
<section id="tool-internals">
<h2>Tool Internals<a class="headerlink" href="#tool-internals" title="Link to this heading"></a></h2>
<p>Understanding the internal structure of the tool is crucial for effective usage.</p>
<section id="file-structure">
<h3>File Structure<a class="headerlink" href="#file-structure" title="Link to this heading"></a></h3>
<p>The tool consists of the following components:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dbldUtil-dev.exe</span></code>: located at <code class="docutils literal notranslate"><span class="pre">&lt;engine_root&gt;/tools/dagor3_cdk/util/</span></code>.</p></li>
<li><p>Batch Files (<code class="docutils literal notranslate"><span class="pre">build_deps.cmd</span></code>): located at
<code class="docutils literal notranslate"><span class="pre">&lt;engine_root&gt;/&lt;project_name&gt;/develop/levels.deps/</span></code>.</p></li>
<li><p>Configuration Files (<code class="docutils literal notranslate"><span class="pre">game_env.blk</span></code>): located in the same directory as the
batch files.</p></li>
</ul>
<p>While there’s no need to modify the executable, you might need to adjust the
batch files.</p>
</section>
<section id="batch-files">
<h3>Batch Files<a class="headerlink" href="#batch-files" title="Link to this heading"></a></h3>
<p>The batch files consist of command lines that perform specific tasks.</p>
<p><strong>Example:</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>@for %%f in (..\..\game\content\&lt;project_name&gt;\levels\*.bin) do ..\..\..\tools\dagor3_cdk\util\dbldUtil-dev.exe PC %%f -deps:game_env-cr.blk &gt;&lt;project_name&gt;\%%~nxf.deps
</pre></div>
</div>
<p>This command means:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;for</span> <span class="pre">%%f</span> <span class="pre">in</span> <span class="pre">(..\..\game\content\&lt;project_name&gt;\levels\*.bin)</span></code>: for all files
with a <code class="docutils literal notranslate"><span class="pre">.bin</span></code> extension in the specified directory,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">..\..\..\tools\dagor3_cdk\util\dbldUtil-dev.exe</span> <span class="pre">PC</span> <span class="pre">%%f</span> <span class="pre">-deps:game_env-cr.blk</span> <span class="pre">&gt;&lt;project_name&gt;\%%~nxf.deps</span></code>: run the tool with the
&lt;project_name&gt; configuration on a PC, and output the results to the
<code class="docutils literal notranslate"><span class="pre">&lt;project_name&gt;</span></code> directory with the same filename but with a <code class="docutils literal notranslate"><span class="pre">.deps</span></code>
extension.</p></li>
</ul>
<p>If you don’t want the tool to process all binaries, you can modify the batch
file to target specific files.</p>
<p>For example, to process a specific file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>..\..\..\tools\dagor3_cdk\util\dbldUtil-dev.exe PC ..\..\game\content\&lt;project_name&gt;\levels\cr_menu_background.bin -deps:game_env-cr.blk &gt;&lt;project_name&gt;\cr_menu_background.bin.deps
</pre></div>
</div>
<p>This command instructs the tool to:</p>
<ul class="simple">
<li><p>process a specific file (<code class="docutils literal notranslate"><span class="pre">cr_menu_background.bin</span></code>),</p></li>
<li><p>use the <code class="docutils literal notranslate"><span class="pre">&lt;project_name&gt;</span></code> configuration,</p></li>
<li><p>output the result to the designated directory and file.</p></li>
</ul>
</section>
<section id="tool-configurations">
<h3>Tool Configurations<a class="headerlink" href="#tool-configurations" title="Link to this heading"></a></h3>
<p>If you encounter any errors while using the tool, it’s essential to check the
configuration files.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">game_env.blk</span></code> file defines the “working directories” and, crucially, the
<a class="reference internal" href="../building-resources/building_resources.html#what-is-a-package"><span class="std std-ref">packages</span></a>
required for the map to function correctly. Therefore, if the tool doesn’t
process your map, don’t worry. Check that all packages the map depends on are
listed in the configuration file and read the error logs carefully.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="levels.deps" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../performance-rate-stat-panel/index.html" class="btn btn-neutral float-right" title="Performance Rating Statistics Panel" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Gaijin Entertainment 2025.
      <span class="lastupdated">Last updated on Oct 04, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>