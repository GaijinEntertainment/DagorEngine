<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.7" xml:lang="en-US">
  <compounddef id="freecam_8cpp" kind="file" language="C++">
    <compoundname>freecam.cpp</compoundname>
    <includes local="no">max.h</includes>
    <includes local="no">utilapi.h</includes>
    <includes local="no">winuser.h</includes>
    <includes refid="resource_8h" local="yes">resource.h</includes>
    <includes refid="dagor_8h" local="yes">dagor.h</includes>
    <includes refid="debug_8h" local="yes">debug.h</includes>
    <incdepgraph>
      <node id="6">
        <label>dagor.h</label>
        <link refid="dagor_8h"/>
      </node>
      <node id="7">
        <label>debug.h</label>
        <link refid="debug_8h"/>
      </node>
      <node id="1">
        <label>freecam.cpp</label>
        <link refid="freecam_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>resource.h</label>
        <link refid="resource_8h"/>
      </node>
      <node id="2">
        <label>max.h</label>
      </node>
      <node id="3">
        <label>utilapi.h</label>
      </node>
      <node id="4">
        <label>winuser.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="structFreeCamera" prot="public">FreeCamera</innerclass>
    <innerclass refid="classFreeCamCommandMode" prot="public">FreeCamCommandMode</innerclass>
    <innerclass refid="classFreeCamShortcut" prot="public">FreeCamShortcut</innerclass>
    <innerclass refid="classDagFreeCamUtil" prot="public">DagFreeCamUtil</innerclass>
    <innerclass refid="classDagFreeCamUtilDesc" prot="public">DagFreeCamUtilDesc</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="freecam_8cpp_1a68e8f8dd81a4d1248ed76d7508ba655e" prot="public" static="no">
        <name>MAX_CLSNAME</name>
        <initializer>64</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="10" column="9" bodyfile="freecam.cpp" bodystart="10" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="freecam_8cpp_1a09aa76c077587d3ab22e86b18f88e6e1" prot="public" static="no">
        <name>NumElements</name>
        <param><defname>array</defname></param>
        <initializer>(sizeof(array) / sizeof(array[0]))</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="114" column="9" bodyfile="freecam.cpp" bodystart="114" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="freecam_8cpp_1a815ecf3470ebc2096dd717c502d8e98b" prot="public" static="no">
        <name>reled</name>
        <param><defname>e</defname></param>
        <initializer>  <ref refid="polyBumpUtil_8cpp_1a7699f0fa17b7a8c6cc60895b6ec8bb97" kindref="member">if</ref> (e)                 \
  {                      \
    ReleaseICustEdit(e); \
    e = NULL;            \
  }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="645" column="9"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="freecam_8cpp_1a74029128723095e7bf00a71d46af8b24" prot="public" static="no" mutable="no">
        <type>HINSTANCE</type>
        <definition>HINSTANCE hInstance</definition>
        <argsstring></argsstring>
        <name>hInstance</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="12" column="18" bodyfile="dllmain.cpp" bodystart="6" bodyend="-1" declfile="freecam.cpp" declline="12" declcolumn="18"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1a18f737724910fbd483e1f6f43e90347b" prot="public" static="yes" mutable="no">
        <type><ref refid="structFreeCamera" kindref="compound">FreeCamera</ref></type>
        <definition>FreeCamera freecam</definition>
        <argsstring></argsstring>
        <name>freecam</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="112" column="19" bodyfile="freecam.cpp" bodystart="112" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1a417b9753d378ed1978f23178ac15711a" prot="public" static="yes" mutable="no">
        <type>ActionDescription</type>
        <definition>ActionDescription spShortcuts[]</definition>
        <argsstring>[]</argsstring>
        <name>spShortcuts</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="116" column="26" bodyfile="freecam.cpp" bodystart="116" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1a127f79a4d9bd37da5de8f342fad74291" prot="public" static="no" mutable="no">
        <type>const ActionContextId</type>
        <definition>const ActionContextId FreeCamContext</definition>
        <argsstring></argsstring>
        <name>FreeCamContext</name>
        <initializer>= 0x2bfc51d6</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="175" column="23" bodyfile="freecam.cpp" bodystart="175" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1ac9b21cfa481680abb60b0efa8d97a152" prot="public" static="no" mutable="no">
        <type>const ActionTableId</type>
        <definition>const ActionTableId FreeCamShortcuts</definition>
        <argsstring></argsstring>
        <name>FreeCamShortcuts</name>
        <initializer>= 0x2bfc51d6</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="176" column="21" bodyfile="freecam.cpp" bodystart="176" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1a4f2fb1157abf786c0f007703868d4a77" prot="public" static="yes" mutable="no">
        <type>class <ref refid="classFreeCamShortcut" kindref="compound">FreeCamShortcut</ref> *</type>
        <definition>class FreeCamShortcut* fccb</definition>
        <argsstring></argsstring>
        <name>fccb</name>
        <initializer>= NULL</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="321" column="29" bodyfile="freecam.cpp" bodystart="321" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1ac5f45509f2c4b7c006b2f900ae961c63" prot="public" static="yes" mutable="no">
        <type><ref refid="classFreeCamCommandMode" kindref="compound">FreeCamCommandMode</ref></type>
        <definition>FreeCamCommandMode freecamcm</definition>
        <argsstring></argsstring>
        <name>freecamcm</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="323" column="27" bodyfile="freecam.cpp" bodystart="323" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1a7c45c0377611295723eb5131ab2f4329" prot="public" static="yes" mutable="no">
        <type>UINT_PTR</type>
        <definition>UINT_PTR timer_id</definition>
        <argsstring></argsstring>
        <name>timer_id</name>
        <initializer>= NULL</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="341" column="17" bodyfile="freecam.cpp" bodystart="341" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1adcd183d29956c37ddd14bef2bdeae66a" prot="public" static="yes" mutable="no">
        <type><ref refid="classDagFreeCamUtil" kindref="compound">DagFreeCamUtil</ref></type>
        <definition>DagFreeCamUtil futil</definition>
        <argsstring></argsstring>
        <name>futil</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="457" column="23" bodyfile="freecam.cpp" bodystart="457" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1a289191bcf491d9ce8221a9269ad4775a" prot="public" static="yes" mutable="no">
        <type>const int</type>
        <definition>const int CH_FREE_CAM</definition>
        <argsstring></argsstring>
        <name>CH_FREE_CAM</name>
        <initializer>= 1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="485" column="18" bodyfile="freecam.cpp" bodystart="485" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="freecam_8cpp_1a2a594e9cfac7a0c13801e80d97973e29" prot="public" static="yes" mutable="no">
        <type><ref refid="classDagFreeCamUtilDesc" kindref="compound">DagFreeCamUtilDesc</ref></type>
        <definition>DagFreeCamUtilDesc futilDesc</definition>
        <argsstring></argsstring>
        <name>futilDesc</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="539" column="27" bodyfile="freecam.cpp" bodystart="539" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="freecam_8cpp_1afe2a9e71d23f32343c76b47acffa775c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>ViewExp *</type>
        <definition>ViewExp * getViewport</definition>
        <argsstring>(HWND hwnd)</argsstring>
        <name>getViewport</name>
        <param>
          <type>HWND</type>
          <declname>hwnd</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="14" column="9" bodyfile="freecam.cpp" bodystart="14" bodyend="21"/>
      </memberdef>
      <memberdef kind="function" id="freecam_8cpp_1abfc08dda5fb8fd781979a965d9fe5677" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>ViewExp *</type>
        <definition>ViewExp * getActiveViewport</definition>
        <argsstring>()</argsstring>
        <name>getActiveViewport</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="23" column="9" bodyfile="freecam.cpp" bodystart="23" bodyend="30"/>
      </memberdef>
      <memberdef kind="function" id="freecam_8cpp_1a7769a6ab61426e94ac20a969bc238184" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void releaseViewport</definition>
        <argsstring>(ViewExp *vp)</argsstring>
        <name>releaseViewport</name>
        <param>
          <type>ViewExp *</type>
          <declname>vp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="32" column="6" bodyfile="freecam.cpp" bodystart="32" bodyend="38"/>
      </memberdef>
      <memberdef kind="function" id="freecam_8cpp_1a6a237ea3ad9a0a485790c352e7fe338b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>VOID CALLBACK</type>
        <definition>static VOID CALLBACK TimerFunc</definition>
        <argsstring>(HWND hwnd, UINT uMsg, UINT_PTR idEvent, DWORD dwTime)</argsstring>
        <name>TimerFunc</name>
        <param>
          <type>HWND</type>
          <declname>hwnd</declname>
        </param>
        <param>
          <type>UINT</type>
          <declname>uMsg</declname>
        </param>
        <param>
          <type>UINT_PTR</type>
          <declname>idEvent</declname>
        </param>
        <param>
          <type>DWORD</type>
          <declname>dwTime</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="325" column="22" bodyfile="freecam.cpp" bodystart="325" bodyend="340"/>
      </memberdef>
      <memberdef kind="function" id="freecam_8cpp_1ae2dc03314906c68e3e587a224b3ed460" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>ActionTable *</type>
        <definition>ActionTable * GetActions</definition>
        <argsstring>()</argsstring>
        <name>GetActions</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="411" column="13" bodyfile="freecam.cpp" bodystart="411" bodyend="428"/>
      </memberdef>
      <memberdef kind="function" id="freecam_8cpp_1a14a306dd89ac4b563b5da49c18afbc29" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool get_edint</definition>
        <argsstring>(ICustEdit *e, int &amp;a)</argsstring>
        <name>get_edint</name>
        <param>
          <type>ICustEdit *</type>
          <declname>e</declname>
        </param>
        <param>
          <type>int &amp;</type>
          <declname>a</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="430" column="13" bodyfile="util.cpp" bodystart="576" bodyend="586" declfile="freecam.cpp" declline="430" declcolumn="13"/>
      </memberdef>
      <memberdef kind="function" id="freecam_8cpp_1ab0f0424bae942f9a6b4f9d4b27d6ce1d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool get_edfloat</definition>
        <argsstring>(ICustEdit *e, float &amp;a)</argsstring>
        <name>get_edfloat</name>
        <param>
          <type>ICustEdit *</type>
          <declname>e</declname>
        </param>
        <param>
          <type>float &amp;</type>
          <declname>a</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="431" column="13" bodyfile="util.cpp" bodystart="588" bodyend="598" declfile="freecam.cpp" declline="431" declcolumn="13"/>
      </memberdef>
      <memberdef kind="function" id="freecam_8cpp_1a8cc1dd80a4df65e008f91f543ee8822c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>ClassDesc *</type>
        <definition>ClassDesc * GetDagFreeCamUtilCD</definition>
        <argsstring>()</argsstring>
        <name>GetDagFreeCamUtilCD</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="540" column="11" bodyfile="freecam.cpp" bodystart="540" bodyend="540"/>
      </memberdef>
      <memberdef kind="function" id="freecam_8cpp_1a75a4da46e5b6ee651e344417c7eab0f9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>INT_PTR CALLBACK</type>
        <definition>static INT_PTR CALLBACK FreeCamDlgProc</definition>
        <argsstring>(HWND hw, UINT msg, WPARAM wParam, LPARAM lParam)</argsstring>
        <name>FreeCamDlgProc</name>
        <param>
          <type>HWND</type>
          <declname>hw</declname>
        </param>
        <param>
          <type>UINT</type>
          <declname>msg</declname>
        </param>
        <param>
          <type>WPARAM</type>
          <declname>wParam</declname>
        </param>
        <param>
          <type>LPARAM</type>
          <declname>lParam</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="freecam.cpp" line="543" column="25" bodyfile="freecam.cpp" bodystart="543" bodyend="546"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(C)<sp/>Gaijin<sp/>Games<sp/>KFT.<sp/><sp/>All<sp/>rights<sp/>reserved.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;max.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;utilapi.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;winuser.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="resource_8h" kindref="compound">resource.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="dagor_8h" kindref="compound">dagor.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="debug_8h" kindref="compound">debug.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAX_CLSNAME<sp/>64</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/>HINSTANCE<sp/><ref refid="freecam_8cpp_1a74029128723095e7bf00a71d46af8b24" kindref="member">hInstance</ref>;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal">ViewExp<sp/>*<ref refid="freecam_8cpp_1afe2a9e71d23f32343c76b47acffa775c" kindref="member">getViewport</ref>(HWND<sp/>hwnd)</highlight></codeline>
<codeline lineno="15"><highlight class="normal">{</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(MAX_RELEASE_R15)<sp/>&amp;&amp;<sp/>MAX_RELEASE<sp/>&gt;=<sp/>MAX_RELEASE_R15</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>GetCOREInterface()-&gt;GetViewExp(hwnd).ToPointer();</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>GetCOREInterface()-&gt;GetViewport(hwnd);</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal">}</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal">ViewExp<sp/>*<ref refid="freecam_8cpp_1abfc08dda5fb8fd781979a965d9fe5677" kindref="member">getActiveViewport</ref>()</highlight></codeline>
<codeline lineno="24"><highlight class="normal">{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(MAX_RELEASE_R15)<sp/>&amp;&amp;<sp/>MAX_RELEASE<sp/>&gt;=<sp/>MAX_RELEASE_R15</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>GetCOREInterface()-&gt;GetActiveViewExp().ToPointer();</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>GetCOREInterface()-&gt;GetActiveViewport();</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal">}</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="freecam_8cpp_1a7769a6ab61426e94ac20a969bc238184" kindref="member">releaseViewport</ref>(ViewExp<sp/>*vp)</highlight></codeline>
<codeline lineno="33"><highlight class="normal">{</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(MAX_RELEASE_R15)<sp/>&amp;&amp;<sp/>MAX_RELEASE<sp/>&gt;=<sp/>MAX_RELEASE_R15</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/>GetCOREInterface()-&gt;ReleaseViewport(vp);</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal">}</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="structFreeCamera" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structFreeCamera" kindref="compound">FreeCamera</ref></highlight></codeline>
<codeline lineno="41"><highlight class="normal">{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref>;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref>;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1a9fa348de06a7532a3d53951657805319" kindref="member">changed</ref>;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1af2ec7f7b372c623bf2182ca7d3dab88b" kindref="member">move_speed</ref>,<sp/><ref refid="structFreeCamera_1ad2fa2f3c8ed9d25703104df236b867c4" kindref="member">rot_speed</ref>,<sp/><ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1a5dd6948d8aba72e7943e55f925ff66a7" kindref="member">init</ref>(HWND<sp/>hw,<sp/>Interface<sp/>*ip)<sp/>{}</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><ref refid="structFreeCamera_1a18d6dbe5147d44c2daebd4c531597139" kindref="member">FreeCamera</ref>()</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1af2ec7f7b372c623bf2182ca7d3dab88b" kindref="member">move_speed</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1ad2fa2f3c8ed9d25703104df236b867c4" kindref="member">rot_speed</ref><sp/>=<sp/>0.004f;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref><sp/>=<sp/>PI<sp/>/<sp/>2;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref><sp/>=<sp/>5;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a9fa348de06a7532a3d53951657805319" kindref="member">changed</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1a46689215cc8854ef55bdfc9888bbc39b" kindref="member">destroy</ref>(HWND<sp/>hw,<sp/>Interface<sp/>*ip)<sp/>{}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/>Matrix3<sp/><ref refid="structFreeCamera_1a0a05c9ef70ac0833b530e55a185fda57" kindref="member">curviewtm</ref>,<sp/><ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref>;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/>Point3<sp/><ref refid="structFreeCamera_1a27cb2b5d55dcbd97bb11c75eaab71dc5" kindref="member">curviewpos</ref>;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref>,<sp/><ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref>;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1aa161413a81a85158e5e567183c5ad580" kindref="member">InitView</ref>(ViewExp<sp/>*viewexp)</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>viewexp-&gt;GetAffineTM(<ref refid="structFreeCamera_1a0a05c9ef70ac0833b530e55a185fda57" kindref="member">curviewtm</ref>);</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref><sp/>=<sp/>Inverse(<ref refid="structFreeCamera_1a0a05c9ef70ac0833b530e55a185fda57" kindref="member">curviewtm</ref>);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a27cb2b5d55dcbd97bb11c75eaab71dc5" kindref="member">curviewpos</ref><sp/>=<sp/><ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref>.GetRow(3);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref><sp/>=<sp/>0,<sp/><ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref><sp/>=<sp/>PI<sp/>/<sp/>2;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>DPoint3<sp/>viewdir<sp/>=<sp/><ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref>.GetRow(2);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>DPoint3<sp/>vdh<sp/>=<sp/>Normalize(DPoint3(viewdir.x,<sp/>viewdir.y,<sp/>0));</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Length(vdh)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref><sp/>=<sp/>atan2(viewdir.x,<sp/>-viewdir.y);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(viewdir.z<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref><sp/>=<sp/>asin(-viewdir.z)<sp/>+<sp/>PI<sp/>/<sp/>2;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref><sp/>=<sp/>RotateXMatrix(<ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref>)<sp/>*<sp/>RotateZMatrix(<ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref>);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref>.SetRow(3,<sp/><ref refid="structFreeCamera_1a27cb2b5d55dcbd97bb11c75eaab71dc5" kindref="member">curviewpos</ref>);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a9fa348de06a7532a3d53951657805319" kindref="member">changed</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ch,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dh)</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ch<sp/>&lt;<sp/>0<sp/>||<sp/>ch<sp/>&gt;<sp/>2<sp/>||<sp/>dh<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>Point3<sp/>movedir<sp/>=<sp/><ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref>.GetRow(ch);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a27cb2b5d55dcbd97bb11c75eaab71dc5" kindref="member">curviewpos</ref><sp/>+=<sp/><ref refid="structFreeCamera_1af2ec7f7b372c623bf2182ca7d3dab88b" kindref="member">move_speed</ref><sp/>*<sp/>dh<sp/>*<sp/>movedir;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a9fa348de06a7532a3d53951657805319" kindref="member">changed</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera_1a882f848ad5122ee470ec0deffa223afd" kindref="member">SetView</ref>(ViewExp<sp/>*viewexp)</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref><sp/>&gt;=<sp/>TWOPI)</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref><sp/>-=<sp/>TWOPI;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref><sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref><sp/>+=<sp/>TWOPI;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>while(vang&gt;PI)<sp/>vang-=TWOPI;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>while(vang&lt;-PI)<sp/>vang+=TWOPI;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref><sp/>&gt;<sp/>PI)</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref><sp/>=<sp/>PI;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref><sp/>&lt;<sp/>0)</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref><sp/>=<sp/>RotateXMatrix(<ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref>)<sp/>*<sp/>RotateZMatrix(<ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref>);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref>.SetRow(3,<sp/><ref refid="structFreeCamera_1a27cb2b5d55dcbd97bb11c75eaab71dc5" kindref="member">curviewpos</ref>);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a0a05c9ef70ac0833b530e55a185fda57" kindref="member">curviewtm</ref><sp/>=<sp/>Inverse(<ref refid="structFreeCamera_1aeceb5ba3433cf5298b3981275a9a7a4d" kindref="member">curviewitm</ref>);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>viewexp-&gt;SetAffineTM(<ref refid="structFreeCamera_1a0a05c9ef70ac0833b530e55a185fda57" kindref="member">curviewtm</ref>);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structFreeCamera_1a9fa348de06a7532a3d53951657805319" kindref="member">changed</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="111"><highlight class="normal">};</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structFreeCamera" kindref="compound">FreeCamera</ref><sp/>freecam;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>NumElements(array)<sp/>(sizeof(array)<sp/>/<sp/>sizeof(array[0]))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>ActionDescription<sp/>spShortcuts[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a4868d27e06127e6d0c5a28578987197a" kindref="member">IDR_FREE_BACKW</ref>,</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a46f7ca181663baedd301027a37eeb96d" kindref="member">IDS_FREE_BACKW</ref>,</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a46f7ca181663baedd301027a37eeb96d" kindref="member">IDS_FREE_BACKW</ref>,</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a23219a5d0419abadd5819974a4f8936c" kindref="member">IDR_FREE</ref>,</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1afc8fc3ce01d7ac6c714d291ca906488c" kindref="member">IDR_FREE_FORW</ref>,</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a61b3bdb78a0f171054bcfa28c26be03e" kindref="member">IDS_FREE_FORW</ref>,</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a61b3bdb78a0f171054bcfa28c26be03e" kindref="member">IDS_FREE_FORW</ref>,</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a0244b44a044c8c63a7b99f570dd38de6" kindref="member">IDR_FREE_LEFT</ref>,</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a418e21c72e4b7523ad57f14d9147ada0" kindref="member">IDS_FREE_LEFT</ref>,</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a418e21c72e4b7523ad57f14d9147ada0" kindref="member">IDS_FREE_LEFT</ref>,</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1ab7276724e8279d10ba94cc6cc2942f6b" kindref="member">IDR_FREE_RIGHT</ref>,</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8af524eec8af20ee1028266d9cced70c" kindref="member">IDS_FREE_RIGHT</ref>,</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8af524eec8af20ee1028266d9cced70c" kindref="member">IDS_FREE_RIGHT</ref>,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1aa8c0836181e2f494ff724b2d0b4a7988" kindref="member">IDR_FREE_UP</ref>,</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a296f5b5f7ed1a597652f8b4505efcd19" kindref="member">IDS_FREE_UP</ref>,</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a296f5b5f7ed1a597652f8b4505efcd19" kindref="member">IDS_FREE_UP</ref>,</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a486054814ad977838b95d452abff432c" kindref="member">IDR_FREE_DOWN</ref>,</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a2649dda83b56ae50aa0289e175b8fdb0" kindref="member">IDS_FREE_DOWN</ref>,</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a2649dda83b56ae50aa0289e175b8fdb0" kindref="member">IDS_FREE_DOWN</ref>,</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1aff6c416ac99b61759addb906a59a79d8" kindref="member">IDR_FREET_BACKW</ref>,</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8e61d19895bba21e2e718c9a49eaf3a3" kindref="member">IDS_FREET_BACKW</ref>,</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8e61d19895bba21e2e718c9a49eaf3a3" kindref="member">IDS_FREET_BACKW</ref>,</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1adb82ea0ad8c2245e1b2ed547c725831f" kindref="member">IDR_FREET_FORW</ref>,</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1af291110d33c42bd237cc55beb47ddc79" kindref="member">IDS_FREET_FORW</ref>,</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1af291110d33c42bd237cc55beb47ddc79" kindref="member">IDS_FREET_FORW</ref>,</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a55695ea945e57c2bbe1b4d6e9baf907c" kindref="member">IDR_FREET_LEFT</ref>,</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1aacb9118e78c8955f458dfcef1f1b96dd" kindref="member">IDS_FREET_LEFT</ref>,</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1aacb9118e78c8955f458dfcef1f1b96dd" kindref="member">IDS_FREET_LEFT</ref>,</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1ad0bd8179d20a32b8589f7e4097f0ff58" kindref="member">IDR_FREET_RIGHT</ref>,</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1ad73f0f288cd74f163d058aa874561a67" kindref="member">IDS_FREET_RIGHT</ref>,</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1ad73f0f288cd74f163d058aa874561a67" kindref="member">IDS_FREET_RIGHT</ref>,</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a462a1c67d8839e8f18f1343981de969c" kindref="member">IDR_FREET_UP</ref>,</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a0675dcddf75b60c30026b581f677f7ae" kindref="member">IDS_FREET_UP</ref>,</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a0675dcddf75b60c30026b581f677f7ae" kindref="member">IDS_FREET_UP</ref>,</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a57a9ea8b515d5819dace8b06eb6b6380" kindref="member">IDR_FREET_DOWN</ref>,</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a7d0c5d100acc818094b1a35a08cb1079" kindref="member">IDS_FREET_DOWN</ref>,</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a7d0c5d100acc818094b1a35a08cb1079" kindref="member">IDS_FREET_DOWN</ref>,</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>,</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal">};</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ActionContextId<sp/><ref refid="freecam_8cpp_1a127f79a4d9bd37da5de8f342fad74291" kindref="member">FreeCamContext</ref><sp/>=<sp/>0x2bfc51d6;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ActionTableId<sp/><ref refid="freecam_8cpp_1ac9b21cfa481680abb60b0efa8d97a152" kindref="member">FreeCamShortcuts</ref><sp/>=<sp/>0x2bfc51d6;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178" refid="classFreeCamCommandMode" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classFreeCamCommandMode" kindref="compound">FreeCamCommandMode</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>CommandMode,<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>MouseCallBack</highlight></codeline>
<codeline lineno="179"><highlight class="normal">{</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/>HCURSOR<sp/><ref refid="classFreeCamCommandMode_1acab17b82f4011d20d8443f3fe7d397e2" kindref="member">prevcur</ref>;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><ref refid="classFreeCamCommandMode_1a51fe4375461fb5b97be63228ec7b6cc0" kindref="member">FreeCamCommandMode</ref>()<sp/>{<sp/><ref refid="classFreeCamCommandMode_1acab17b82f4011d20d8443f3fe7d397e2" kindref="member">prevcur</ref><sp/>=<sp/>NULL;<sp/>}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classFreeCamCommandMode_1acc2bd3913fca8931fea9e5606daaeac9" kindref="member">Class</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1101;<sp/>}<sp/></highlight><highlight class="comment">//<sp/>VIEWPORT_COMMAND</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classFreeCamCommandMode_1a5d64fce780ec3c4fd045c425fd721166" kindref="member">ID</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>CID_USER<sp/>+<sp/>0x777;<sp/>}</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/>MouseCallBack<sp/>*<ref refid="classFreeCamCommandMode_1ab47dba878d808b46942db02f0bdbecde" kindref="member">MouseProc</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*numPoints)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="186"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>*numPoints<sp/>=<sp/>200000000;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/>BOOL<sp/><ref refid="classFreeCamCommandMode_1afcbf7fec044ae0a78e10e2c6c15d7153" kindref="member">ChangeFG</ref>(CommandMode<sp/>*oldMode)</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(oldMode-&gt;ChangeFGProc()<sp/>!=<sp/>CHANGE_FG_SELECTED);<sp/>}</highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/>ChangeForegroundCallback<sp/>*<ref refid="classFreeCamCommandMode_1a67d8f73f9fa69ad323006d52efe3eeb2" kindref="member">ChangeFGProc</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>CHANGE_FG_SELECTED;<sp/>}</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classFreeCamCommandMode_1ab921ec3e8a7416b8cfb4ec6194a47f18" kindref="member">EnterMode</ref>()</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="194"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1afc2de6ea1ebd2fce4280c6688407140d" kindref="member">started</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>ViewExp<sp/>*ve<sp/>=<sp/><ref refid="freecam_8cpp_1abfc08dda5fb8fd781979a965d9fe5677" kindref="member">getActiveViewport</ref>();</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>HWND<sp/>hwnd<sp/>=<sp/>ve-&gt;GetHWnd();</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>RECT<sp/>Rect;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!GetWindowRect(hwnd,<sp/>&amp;Rect))</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="freecam_8cpp_1a7769a6ab61426e94ac20a969bc238184" kindref="member">releaseViewport</ref>(ve);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>RECT<sp/>desktopr;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>GetWindowRect(GetDesktopWindow(),<sp/>&amp;desktopr);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gr)</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mouse_event(MOUSEEVENTF_ABSOLUTE<sp/>|<sp/>MOUSEEVENTF_LEFTDOWN,<sp/>65535<sp/>*<sp/>(Rect.right<sp/>+<sp/>Rect.left)<sp/>/<sp/>(2<sp/>*<sp/>desktopr.right),</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>65535<sp/>*<sp/>(Rect.top<sp/>+<sp/>Rect.bottom)<sp/>/<sp/>(2<sp/>*<sp/>desktopr.bottom),<sp/>0,<sp/>NULL);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1acab17b82f4011d20d8443f3fe7d397e2" kindref="member">prevcur</ref><sp/>=<sp/>SetCursor(NULL);</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classFreeCamCommandMode_1a5b01d5c0bb2a85a0598e4203db8355db" kindref="member">ExitMode</ref>()</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="211"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classFreeCamCommandMode_1acab17b82f4011d20d8443f3fe7d397e2" kindref="member">prevcur</ref>)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>SetCursor(<ref refid="classFreeCamCommandMode_1acab17b82f4011d20d8443f3fe7d397e2" kindref="member">prevcur</ref>);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1acab17b82f4011d20d8443f3fe7d397e2" kindref="member">prevcur</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Mouse</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/>IPoint2<sp/><ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref>,<sp/><ref refid="classFreeCamCommandMode_1a05fe6f9463e11018059df6a75f0e835a" kindref="member">startop</ref>;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classFreeCamCommandMode_1afc2de6ea1ebd2fce4280c6688407140d" kindref="member">started</ref>;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classFreeCamCommandMode_1aa79493e52314715d3c0dd712713500dd" kindref="member">proc</ref>(HWND<sp/>hwnd,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>msg,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>point,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags,<sp/>IPoint2<sp/>m)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="222"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(msg<sp/>==<sp/>MOUSE_MOVE)</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>DWORD<sp/>dx,dy,dwData;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>mouse_event(MOUSEEVENTF_ABSOLUTE|MOUSEEVENTF_MOVE,dx,dy,<sp/>dwData,<sp/>NULL);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref>.x<sp/>!=<sp/>m.x<sp/>||<sp/><ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref>.y<sp/>!=<sp/>m.y)</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classFreeCamCommandMode_1afc2de6ea1ebd2fce4280c6688407140d" kindref="member">started</ref>)</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref><sp/>=<sp/>m;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1a05fe6f9463e11018059df6a75f0e835a" kindref="member">startop</ref><sp/>=<sp/>m;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1afc2de6ea1ebd2fce4280c6688407140d" kindref="member">started</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RECT<sp/>desktopr,<sp/>Rect;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GetWindowRect(GetDesktopWindow(),<sp/>&amp;desktopr);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ViewExp<sp/>*vpt<sp/>=<sp/><ref refid="freecam_8cpp_1afe2a9e71d23f32343c76b47acffa775c" kindref="member">getViewport</ref>(hwnd);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!GetWindowRect(vpt-&gt;GetHWnd(),<sp/>&amp;Rect))</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="polyBumpUtil_8cpp_1a48d03c7323d95df49ef19db24dcb5c71" kindref="member">h</ref><sp/>=<sp/>freecam.<ref refid="structFreeCamera_1ad2fa2f3c8ed9d25703104df236b867c4" kindref="member">rot_speed</ref><sp/>*<sp/>(<ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref>.x<sp/>-<sp/>m.x);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>v<sp/>=<sp/>freecam.<ref refid="structFreeCamera_1ad2fa2f3c8ed9d25703104df236b867c4" kindref="member">rot_speed</ref><sp/>*<sp/>(<ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref>.y<sp/>-<sp/>m.y);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freecam.<ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref><sp/>+=<sp/><ref refid="polyBumpUtil_8cpp_1a48d03c7323d95df49ef19db24dcb5c71" kindref="member">h</ref>;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freecam.<ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref><sp/>+=<sp/>v;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gr)</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m.x<sp/>==<sp/>-Rect.left)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m.x<sp/>=<sp/>desktopr.right<sp/>-<sp/>Rect.left<sp/>-<sp/>2;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m.y<sp/>==<sp/>-Rect.top)</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m.y<sp/>=<sp/>desktopr.bottom<sp/>-<sp/>Rect.top<sp/>-<sp/>2;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m.x<sp/>==<sp/>desktopr.right<sp/>-<sp/>1<sp/>-<sp/>Rect.left)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m.x<sp/>=<sp/>-Rect.left<sp/>+<sp/>2;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m.y<sp/>==<sp/>desktopr.bottom<sp/>-<sp/>1<sp/>-<sp/>Rect.top)</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m.y<sp/>=<sp/>-Rect.top<sp/>+<sp/>2;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!gr)</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mouse_event(MOUSEEVENTF_ABSOLUTE<sp/>|<sp/>MOUSEEVENTF_MOVE,<sp/>(m.x<sp/>+<sp/>Rect.left)<sp/>*<sp/>65535<sp/>/<sp/>desktopr.right,</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(m.y<sp/>+<sp/>Rect.top)<sp/>*<sp/>65535<sp/>/<sp/>desktopr.bottom,<sp/>0,<sp/>NULL);</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freecam.<ref refid="structFreeCamera_1a9fa348de06a7532a3d53951657805319" kindref="member">changed</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>camera-&gt;SetView(vpt);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>vpt-&gt;getGW()-&gt;enlargeUpdateRect(NULL);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="freecam_8cpp_1a7769a6ab61426e94ac20a969bc238184" kindref="member">releaseViewport</ref>(vpt);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>GetCOREInterface()-&gt;ForceCompleteRedraw(FALSE);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref><sp/>=<sp/>m;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(msg<sp/>==<sp/>MOUSE_POINT)</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref><sp/>=<sp/>m;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(msg<sp/>==<sp/>MOUSE_PROPCLICK<sp/>||<sp/>msg<sp/>==<sp/>MOUSE_ABORT)</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref><sp/>=<sp/>m;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1afc2de6ea1ebd2fce4280c6688407140d" kindref="member">started</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>mouse_event(MOUSEEVENTF_ABSOLUTE|MOUSEEVENTF_MOVE,startop.x,startop.y,<sp/>0,<sp/>NULL);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>GetCOREInterface()-&gt;DeleteMode(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(msg<sp/>==<sp/>MOUSE_INIT)</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>SetCapture(hwnd);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1addff94dd269075eafa05444c938a869d" kindref="member">op</ref><sp/>=<sp/>m;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classFreeCamCommandMode_1afc2de6ea1ebd2fce4280c6688407140d" kindref="member">started</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(msg<sp/>==<sp/>MOUSE_UNINIT)</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>RECT<sp/>desktopr,<sp/>Rect;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>GetWindowRect(GetDesktopWindow(),<sp/>&amp;desktopr);</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ViewExp<sp/>*vpt<sp/>=<sp/><ref refid="freecam_8cpp_1afe2a9e71d23f32343c76b47acffa775c" kindref="member">getViewport</ref>(hwnd);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!GetWindowRect(vpt-&gt;GetHWnd(),<sp/>&amp;Rect))</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gr<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="freecam_8cpp_1a7769a6ab61426e94ac20a969bc238184" kindref="member">releaseViewport</ref>(vpt);</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gr)</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mouse_event(MOUSEEVENTF_ABSOLUTE<sp/>|<sp/>MOUSEEVENTF_MOVE,<sp/>(<ref refid="classFreeCamCommandMode_1a05fe6f9463e11018059df6a75f0e835a" kindref="member">startop</ref>.x<sp/>+<sp/>Rect.left)<sp/>*<sp/>65535<sp/>/<sp/>desktopr.right,</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="classFreeCamCommandMode_1a05fe6f9463e11018059df6a75f0e835a" kindref="member">startop</ref>.y<sp/>+<sp/>Rect.top)<sp/>*<sp/>65535<sp/>/<sp/>desktopr.bottom,<sp/>0,<sp/>NULL);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>debug(&quot;%d<sp/>%d<sp/>&quot;,startop.x,startop.y);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mode)<sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>mode;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>return<sp/>CLICK_DRAG_CLICK;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>Override<sp/>the<sp/>mouse<sp/>manager&apos;s<sp/>mode!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal">};</highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classFreeCamShortcut" kindref="compound">FreeCamShortcut</ref><sp/>*fccb<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classFreeCamCommandMode" kindref="compound">FreeCamCommandMode</ref><sp/>freecamcm;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>VOID<sp/>CALLBACK<sp/>TimerFunc(HWND<sp/>hwnd,<sp/>UINT<sp/>uMsg,<sp/>UINT_PTR<sp/>idEvent,<sp/>DWORD<sp/>dwTime)</highlight></codeline>
<codeline lineno="326"><highlight class="normal">{</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref><sp/>||<sp/>!freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref>)</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!freecam.<ref refid="structFreeCamera_1a9fa348de06a7532a3d53951657805319" kindref="member">changed</ref>)</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/>ViewExp<sp/>*ve<sp/>=<sp/><ref refid="freecam_8cpp_1abfc08dda5fb8fd781979a965d9fe5677" kindref="member">getActiveViewport</ref>();</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/>freecam.<ref refid="structFreeCamera_1a882f848ad5122ee470ec0deffa223afd" kindref="member">SetView</ref>(ve);</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/>GetCOREInterface()-&gt;ForceCompleteRedraw(FALSE);</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><ref refid="freecam_8cpp_1a7769a6ab61426e94ac20a969bc238184" kindref="member">releaseViewport</ref>(ve);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*static<sp/>int<sp/>called=0;</highlight></codeline>
<codeline lineno="336"><highlight class="comment"><sp/><sp/>if(++called&gt;10){</highlight></codeline>
<codeline lineno="337"><highlight class="comment"><sp/><sp/>GetCOREInterface()-&gt;ForceCompleteRedraw(FALSE);</highlight></codeline>
<codeline lineno="338"><highlight class="comment"><sp/><sp/>called=0;</highlight></codeline>
<codeline lineno="339"><highlight class="comment"><sp/><sp/>}*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal">}</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>UINT_PTR<sp/>timer_id<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343" refid="classFreeCamShortcut" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classFreeCamShortcut" kindref="compound">FreeCamShortcut</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>ActionCallback</highlight></codeline>
<codeline lineno="344"><highlight class="normal">{</highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/>BOOL<sp/><ref refid="classFreeCamShortcut_1ab85993243206c87abd53d7a1e0379c64" kindref="member">ExecuteAction</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="347"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref>)</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref><sp/>&amp;&amp;<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>!=<sp/><ref refid="resource_8h_1a23219a5d0419abadd5819974a4f8936c" kindref="member">IDR_FREE</ref>)</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>ViewExp<sp/>*ve<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref><sp/>&amp;&amp;<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>!=<sp/><ref refid="resource_8h_1a23219a5d0419abadd5819974a4f8936c" kindref="member">IDR_FREE</ref>)<sp/>||<sp/>(!freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref><sp/>&amp;&amp;<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>==<sp/><ref refid="resource_8h_1a23219a5d0419abadd5819974a4f8936c" kindref="member">IDR_FREE</ref>))</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>set<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ve<sp/>=<sp/><ref refid="freecam_8cpp_1abfc08dda5fb8fd781979a965d9fe5677" kindref="member">getActiveViewport</ref>();</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">id</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1aa8c0836181e2f494ff724b2d0b4a7988" kindref="member">IDR_FREE_UP</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(1,<sp/>1);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1a486054814ad977838b95d452abff432c" kindref="member">IDR_FREE_DOWN</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(1,<sp/>-1);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1a0244b44a044c8c63a7b99f570dd38de6" kindref="member">IDR_FREE_LEFT</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(0,<sp/>-1);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1ab7276724e8279d10ba94cc6cc2942f6b" kindref="member">IDR_FREE_RIGHT</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(0,<sp/>1);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1a4868d27e06127e6d0c5a28578987197a" kindref="member">IDR_FREE_BACKW</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(2,<sp/>1);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1afc8fc3ce01d7ac6c714d291ca906488c" kindref="member">IDR_FREE_FORW</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(2,<sp/>-1);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1aff6c416ac99b61759addb906a59a79d8" kindref="member">IDR_FREET_BACKW</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(2,<sp/>freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1adb82ea0ad8c2245e1b2ed547c725831f" kindref="member">IDR_FREET_FORW</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(2,<sp/>-freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1a55695ea945e57c2bbe1b4d6e9baf907c" kindref="member">IDR_FREET_LEFT</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(0,<sp/>-freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1ad0bd8179d20a32b8589f7e4097f0ff58" kindref="member">IDR_FREET_RIGHT</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(0,<sp/>freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1a462a1c67d8839e8f18f1343981de969c" kindref="member">IDR_FREET_UP</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(1,<sp/>freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1a57a9ea8b515d5819dace8b06eb6b6380" kindref="member">IDR_FREET_DOWN</ref>:<sp/>freecam.<ref refid="structFreeCamera_1a8c4dc729408aad904aa605ab77b2d789" kindref="member">MoveViewByRow</ref>(1,<sp/>-freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1a23219a5d0419abadd5819974a4f8936c" kindref="member">IDR_FREE</ref>:</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref><sp/>=<sp/>!freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref>;</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref>)</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freecam.<ref refid="structFreeCamera_1aa161413a81a85158e5e567183c5ad580" kindref="member">InitView</ref>(ve);</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GetCOREInterface()-&gt;SetCommandMode(&amp;freecamcm);</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timer_id<sp/>=<sp/>SetTimer(NULL,<sp/>NULL,<sp/>10,<sp/>(TIMERPROC)&amp;TimerFunc);</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ActionContext<sp/>*uimain<sp/>=<sp/>GetCOREInterface()-&gt;GetActionManager()-&gt;FindContext(kActionMainUIContext);</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uimain)</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uimain-&gt;SetActive(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(timer_id)</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>KillTimer(NULL,<sp/>timer_id);</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timer_id<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GetCOREInterface()-&gt;DeleteMode(&amp;freecamcm);</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ActionContext<sp/>*uimain<sp/>=<sp/>GetCOREInterface()-&gt;GetActionManager()-&gt;FindContext(kActionMainUIContext);</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uimain)</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uimain-&gt;SetActive(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(set)</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>freecam.SetView(ve);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="freecam_8cpp_1a7769a6ab61426e94ac20a969bc238184" kindref="member">releaseViewport</ref>(ve);</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>GetCOREInterface()-&gt;ForceCompleteRedraw(FALSE);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>GetCOREInterface()-&gt;RedrawViews(GetCOREInterface()-&gt;GetTime());</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/>};</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal">};<sp/></highlight><highlight class="comment">//<sp/>freecam_callback;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal">ActionTable<sp/>*<ref refid="freecam_8cpp_1ae2dc03314906c68e3e587a224b3ed460" kindref="member">GetActions</ref>()</highlight></codeline>
<codeline lineno="412"><highlight class="normal">{</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>ActionTable<sp/>*pTab<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pTab)</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/>TSTR<sp/>name<sp/>=<sp/><ref refid="common_8cpp_1aeb87de5dfb5d632579574b4bc8709019" kindref="member">GetString</ref>(<ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>);</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/>HACCEL<sp/>hAccel<sp/>=<sp/>LoadAccelerators(<ref refid="freecam_8cpp_1a74029128723095e7bf00a71d46af8b24" kindref="member">hInstance</ref>,<sp/>MAKEINTRESOURCE(<ref refid="resource_8h_1ada445ca6193cee321da5481a170fe681" kindref="member">IDR_FREECAM_ACC</ref>));</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numOps<sp/>=<sp/><ref refid="freecam_8cpp_1a09aa76c077587d3ab22e86b18f88e6e1" kindref="member">NumElements</ref>(spShortcuts);</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/>pTab<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>ActionTable(<ref refid="freecam_8cpp_1ac9b21cfa481680abb60b0efa8d97a152" kindref="member">FreeCamShortcuts</ref>,<sp/><ref refid="freecam_8cpp_1a127f79a4d9bd37da5de8f342fad74291" kindref="member">FreeCamContext</ref>,<sp/>name,<sp/>hAccel,<sp/>numOps,<sp/>spShortcuts,<sp/><ref refid="freecam_8cpp_1a74029128723095e7bf00a71d46af8b24" kindref="member">hInstance</ref>);</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/>fccb<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classFreeCamShortcut" kindref="compound">FreeCamShortcut</ref>;</highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/>GetCOREInterface()-&gt;GetActionManager()-&gt;RegisterActionContext(<ref refid="freecam_8cpp_1a127f79a4d9bd37da5de8f342fad74291" kindref="member">FreeCamContext</ref>,<sp/>name.data());</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/>GetCOREInterface()-&gt;GetActionManager()-&gt;RegisterActionTable(pTab);</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/>GetCOREInterface()-&gt;GetActionManager()-&gt;ActivateActionTable(fccb,<sp/><ref refid="freecam_8cpp_1ac9b21cfa481680abb60b0efa8d97a152" kindref="member">FreeCamShortcuts</ref>);</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>pTab-&gt;SetCallback(&amp;freecam_callback);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pTab;</highlight></codeline>
<codeline lineno="428"><highlight class="normal">}</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="freecam_8cpp_1a14a306dd89ac4b563b5da49c18afbc29" kindref="member">get_edint</ref>(ICustEdit<sp/>*e,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>&amp;a);</highlight></codeline>
<codeline lineno="431"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="freecam_8cpp_1ab0f0424bae942f9a6b4f9d4b27d6ce1d" kindref="member">get_edfloat</ref>(ICustEdit<sp/>*e,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>&amp;a);</highlight></codeline>
<codeline lineno="432"><highlight class="normal"></highlight></codeline>
<codeline lineno="433" refid="classDagFreeCamUtil" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classDagFreeCamUtil" kindref="compound">DagFreeCamUtil</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>UtilityObj</highlight></codeline>
<codeline lineno="434"><highlight class="normal">{</highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/>TCHAR<sp/><ref refid="classDagFreeCamUtil_1ae175134fda7d05320b83a5628774714c" kindref="member">clsname</ref>[<ref refid="freecam_8cpp_1a68e8f8dd81a4d1248ed76d7508ba655e" kindref="member">MAX_CLSNAME</ref>];</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/>IUtil<sp/>*<ref refid="classDagFreeCamUtil_1af8310c4f3a39bb94e4c7da55be340d64" kindref="member">iu</ref>;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/>Interface<sp/>*<ref refid="classDagFreeCamUtil_1a4d10ba7ad5b924e5c287995cd38cf9e0" kindref="member">ip</ref>;</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/>HWND<sp/><ref refid="classDagFreeCamUtil_1ac8002876d85c3224a94c2c84d4e666df" kindref="member">hFreeCamPanel</ref>;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/>ICustEdit<sp/>*<ref refid="classDagFreeCamUtil_1ae2d74b7aa7bd13099e96b17d1e5477a2" kindref="member">cammovespeedid</ref>,<sp/>*<ref refid="classDagFreeCamUtil_1a6c0f22a7545271d4f88d42838022f681" kindref="member">camrotspeedid</ref>,<sp/>*<ref refid="classDagFreeCamUtil_1a86224abd0a37910b7ddc15f806784402" kindref="member">turboid</ref>;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>FreeCamCommandMode<sp/>freecamcm;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>FreeCamera<sp/>freecam;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1a6717b71a8a00af77efceb7a27981bc6d" kindref="member">DagFreeCamUtil</ref>();</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a11db0c071049da0ebffa3056d9e32df0" kindref="member">BeginEditParams</ref>(Interface<sp/>*<ref refid="classDagFreeCamUtil_1a4d10ba7ad5b924e5c287995cd38cf9e0" kindref="member">ip</ref>,<sp/>IUtil<sp/>*<ref refid="classDagFreeCamUtil_1af8310c4f3a39bb94e4c7da55be340d64" kindref="member">iu</ref>)<sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a62695008b08af13b702873c9b91d6622" kindref="member">EndEditParams</ref>(Interface<sp/>*<ref refid="classDagFreeCamUtil_1a4d10ba7ad5b924e5c287995cd38cf9e0" kindref="member">ip</ref>,<sp/>IUtil<sp/>*<ref refid="classDagFreeCamUtil_1af8310c4f3a39bb94e4c7da55be340d64" kindref="member">iu</ref>)<sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a9d46c8eb5b31af18cdc8f66902f9d704" kindref="member">DeleteThis</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{}</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a42ab2c703e3e026f434a8529ec443ab3" kindref="member">update_freecam_ui</ref>();</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a77cd1185bafb890d724645c0194670e0" kindref="member">update_freecam_vars</ref>();</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a007732e166d5e4f7f6e1f606fe086f39" kindref="member">Init</ref>(HWND<sp/>hWnd);</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1ab52061e6d71914a89cb29893d039eba9" kindref="member">Destroy</ref>(HWND<sp/>hWnd);</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/>BOOL<sp/><ref refid="classDagFreeCamUtil_1a1d7fd7ab20f8e0a6567f0fd9587973a4" kindref="member">dlg_proc</ref>(HWND<sp/>hw,<sp/>UINT<sp/>msg,<sp/>WPARAM<sp/>wParam,<sp/>LPARAM<sp/>lParam);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1ab268988c5d7db2ca83711726d1a83430" kindref="member">set_cam</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="456"><highlight class="normal">};</highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil" kindref="compound">DagFreeCamUtil</ref><sp/>futil;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight></codeline>
<codeline lineno="460" refid="classDagFreeCamUtilDesc" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classDagFreeCamUtilDesc" kindref="compound">DagFreeCamUtilDesc</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>ClassDesc</highlight></codeline>
<codeline lineno="461"><highlight class="normal">{</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtilDesc_1a0f878cece1d4ff9ce68cd5aaf4a0e2a3" kindref="member">IsPublic</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;<sp/>}</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="classDagFreeCamUtilDesc_1abe56f8f438498e721a34843e050c6226" kindref="member">Create</ref>(BOOL<sp/>loading<sp/>=<sp/>FALSE)</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;futil;<sp/>}</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TCHAR<sp/>*<ref refid="classDagFreeCamUtilDesc_1aed61a0293ee984a2da9b94b9c6088570" kindref="member">ClassName</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="common_8cpp_1aeb87de5dfb5d632579574b4bc8709019" kindref="member">GetString</ref>(<ref refid="resource_8h_1addb65debd2e3cc5a1f7e450895f311a5" kindref="member">IDS_DAGFREECAM_UTIL_NAME</ref>);<sp/>}</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(MAX_RELEASE_R24)<sp/>&amp;&amp;<sp/>MAX_RELEASE<sp/>&gt;=<sp/>MAX_RELEASE_R24</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="max__cpt_8h_1ac2ec3340fbe0c6ea0663fd3923d13fe5" kindref="member">MCHAR</ref><sp/>*<ref refid="classDagFreeCamUtilDesc_1ae66a69eb3f62f9a9a7957bfa2ee1ad6d" kindref="member">NonLocalizedClassName</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtilDesc_1aed61a0293ee984a2da9b94b9c6088570" kindref="member">ClassName</ref>();<sp/>}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="max__cpt_8h_1ac2ec3340fbe0c6ea0663fd3923d13fe5" kindref="member">MCHAR</ref><sp/>*<ref refid="classDagFreeCamUtilDesc_1ae66a69eb3f62f9a9a7957bfa2ee1ad6d" kindref="member">NonLocalizedClassName</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtilDesc_1aed61a0293ee984a2da9b94b9c6088570" kindref="member">ClassName</ref>();<sp/>}</highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/>SClass_ID<sp/><ref refid="classDagFreeCamUtilDesc_1abfbfb56e6450b9fb4d5856f0e9218437" kindref="member">SuperClassID</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>UTILITY_CLASS_ID;<sp/>}</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/>Class_ID<sp/><ref refid="classDagFreeCamUtilDesc_1a3965ef502a6c64b84da994b398acbbb5" kindref="member">ClassID</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="dagor_8h_1a660c5d7de5abf7d2d01c92a3eb58022a" kindref="member">DagUtilFreeCam_CID</ref>;<sp/>}</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TCHAR<sp/>*<ref refid="classDagFreeCamUtilDesc_1adb75bd8666e783eba9ef5e7106e76cf9" kindref="member">Category</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="common_8cpp_1aeb87de5dfb5d632579574b4bc8709019" kindref="member">GetString</ref>(<ref refid="resource_8h_1a197942343099f043d210a555ea7e026f" kindref="member">IDS_UTIL_CAT</ref>);<sp/>}</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/>BOOL<sp/><ref refid="classDagFreeCamUtilDesc_1a8cb76a4ea871bfec675e8ecbae7eac90" kindref="member">NeedsToSave</ref>()</highlight><highlight class="keyword"><sp/>override<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;<sp/>}</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/>IOResult<sp/><ref refid="classDagFreeCamUtilDesc_1ae2065d38735e455d9fab80ba38403be9" kindref="member">Save</ref>(ISave<sp/>*)<sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/>IOResult<sp/><ref refid="classDagFreeCamUtilDesc_1abc524326a13995083a9aa0673ab13dd8" kindref="member">Load</ref>(ILoad<sp/>*)<sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtilDesc_1a6e7ac15f770a803563207ec2ba52cdcb" kindref="member">NumActionTables</ref>()</highlight><highlight class="keyword"><sp/>override</highlight></codeline>
<codeline lineno="478"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="freecam_8cpp_1ae2dc03314906c68e3e587a224b3ed460" kindref="member">GetActions</ref>();</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>GetActions();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>ActionTable*<sp/><sp/>GetActionTable(int<sp/>i)<sp/>{<sp/>return<sp/>GetActions();<sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal">};</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>CH_FREE_CAM<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal">IOResult<sp/><ref refid="classDagFreeCamUtilDesc_1ae2065d38735e455d9fab80ba38403be9" kindref="member">DagFreeCamUtilDesc::Save</ref>(ISave<sp/>*io)</highlight></codeline>
<codeline lineno="488"><highlight class="normal">{</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/>futil.<ref refid="classDagFreeCamUtil_1a77cd1185bafb890d724645c0194670e0" kindref="member">update_freecam_vars</ref>();</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/>ULONG<sp/>nw;</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/>io-&gt;BeginChunk(CH_FREE_CAM);</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Write(&amp;freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref>,<sp/>1,<sp/>&amp;nw)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Write(&amp;freecam.<ref refid="structFreeCamera_1ad2fa2f3c8ed9d25703104df236b867c4" kindref="member">rot_speed</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nw)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Write(&amp;freecam.<ref refid="structFreeCamera_1af2ec7f7b372c623bf2182ca7d3dab88b" kindref="member">move_speed</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nw)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Write(&amp;freecam.<ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nw)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Write(&amp;freecam.<ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nw)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Write(&amp;freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nw)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/>io-&gt;EndChunk();</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_OK;</highlight></codeline>
<codeline lineno="506"><highlight class="normal">}</highlight></codeline>
<codeline lineno="507"><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal">IOResult<sp/><ref refid="classDagFreeCamUtilDesc_1abc524326a13995083a9aa0673ab13dd8" kindref="member">DagFreeCamUtilDesc::Load</ref>(ILoad<sp/>*io)</highlight></codeline>
<codeline lineno="509"><highlight class="normal">{</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/>ULONG<sp/>nr;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(io-&gt;OpenChunk()<sp/>==<sp/>IO_OK)</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(io-&gt;CurChunkID())</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>CH_FREE_CAM:</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Read(&amp;freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref>,<sp/>1,<sp/>&amp;nr)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Read(&amp;freecam.<ref refid="structFreeCamera_1ad2fa2f3c8ed9d25703104df236b867c4" kindref="member">rot_speed</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nr)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Read(&amp;freecam.<ref refid="structFreeCamera_1af2ec7f7b372c623bf2182ca7d3dab88b" kindref="member">move_speed</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nr)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Read(&amp;freecam.<ref refid="structFreeCamera_1a9e3e6a6478b6bd2530003500baae6fb1" kindref="member">vang</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nr)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Read(&amp;freecam.<ref refid="structFreeCamera_1a3c15057859b4e5ecb394f8ebca581dfa" kindref="member">hang</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nr)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(io-&gt;Read(&amp;freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>&amp;nr)<sp/>!=<sp/>IO_OK)</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_ERROR;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>futil.<ref refid="classDagFreeCamUtil_1ab268988c5d7db2ca83711726d1a83430" kindref="member">set_cam</ref>(freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref>);</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/>io-&gt;CloseChunk();</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/>futil.<ref refid="classDagFreeCamUtil_1a42ab2c703e3e026f434a8529ec443ab3" kindref="member">update_freecam_ui</ref>();</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>IO_OK;</highlight></codeline>
<codeline lineno="537"><highlight class="normal">}</highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtilDesc" kindref="compound">DagFreeCamUtilDesc</ref><sp/>futilDesc;</highlight></codeline>
<codeline lineno="540"><highlight class="normal">ClassDesc<sp/>*<ref refid="freecam_8cpp_1a8cc1dd80a4df65e008f91f543ee8822c" kindref="member">GetDagFreeCamUtilCD</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>&amp;futilDesc;<sp/>}</highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>INT_PTR<sp/>CALLBACK<sp/>FreeCamDlgProc(HWND<sp/>hw,<sp/>UINT<sp/>msg,<sp/>WPARAM<sp/>wParam,<sp/>LPARAM<sp/>lParam)</highlight></codeline>
<codeline lineno="544"><highlight class="normal">{</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>futil.<ref refid="classDagFreeCamUtil_1a1d7fd7ab20f8e0a6567f0fd9587973a4" kindref="member">dlg_proc</ref>(hw,<sp/>msg,<sp/>wParam,<sp/>lParam);</highlight></codeline>
<codeline lineno="546"><highlight class="normal">}</highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal">BOOL<sp/><ref refid="classDagFreeCamUtil_1a1d7fd7ab20f8e0a6567f0fd9587973a4" kindref="member">DagFreeCamUtil::dlg_proc</ref>(HWND<sp/>hw,<sp/>UINT<sp/>msg,<sp/>WPARAM<sp/>wpar,<sp/>LPARAM<sp/>lpar)</highlight></codeline>
<codeline lineno="549"><highlight class="normal">{</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(msg)</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_INITDIALOG:<sp/><ref refid="classDagFreeCamUtil_1a007732e166d5e4f7f6e1f606fe086f39" kindref="member">Init</ref>(hw);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_DESTROY:<sp/><ref refid="classDagFreeCamUtil_1ab52061e6d71914a89cb29893d039eba9" kindref="member">Destroy</ref>(hw);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WM_COMMAND:</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(LOWORD(wpar))</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="resource_8h_1a59602d18bed514e2f2353b151409ff92" kindref="member">IDC_FREECAM_ON</ref>:</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref><sp/>=<sp/>!freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref>;</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classDagFreeCamUtil_1ab268988c5d7db2ca83711726d1a83430" kindref="member">set_cam</ref>(freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref>);</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="566"><highlight class="normal">}</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a11db0c071049da0ebffa3056d9e32df0" kindref="member">DagFreeCamUtil::BeginEditParams</ref>(Interface<sp/>*ip,<sp/>IUtil<sp/>*iu)</highlight></codeline>
<codeline lineno="569"><highlight class="normal">{</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/>this-&gt;iu<sp/>=<sp/><ref refid="classDagFreeCamUtil_1af8310c4f3a39bb94e4c7da55be340d64" kindref="member">iu</ref>;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/>this-&gt;ip<sp/>=<sp/><ref refid="classDagFreeCamUtil_1a4d10ba7ad5b924e5c287995cd38cf9e0" kindref="member">ip</ref>;</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1ac8002876d85c3224a94c2c84d4e666df" kindref="member">hFreeCamPanel</ref><sp/>=<sp/><ref refid="classDagFreeCamUtil_1a4d10ba7ad5b924e5c287995cd38cf9e0" kindref="member">ip</ref>-&gt;AddRollupPage(<ref refid="freecam_8cpp_1a74029128723095e7bf00a71d46af8b24" kindref="member">hInstance</ref>,<sp/>MAKEINTRESOURCE(<ref refid="resource_8h_1a5e4d640c20ded944cf70352e8bd7cc3d" kindref="member">IDD_FREECAM</ref>),<sp/>FreeCamDlgProc,<sp/><ref refid="common_8cpp_1aeb87de5dfb5d632579574b4bc8709019" kindref="member">GetString</ref>(<ref refid="resource_8h_1a8b9f6e673bbeba73bd4b6aab204436c1" kindref="member">IDS_FREECAM</ref>),<sp/>0);</highlight></codeline>
<codeline lineno="574"><highlight class="normal">}</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a62695008b08af13b702873c9b91d6622" kindref="member">DagFreeCamUtil::EndEditParams</ref>(Interface<sp/>*ip,<sp/>IUtil<sp/>*iu)</highlight></codeline>
<codeline lineno="577"><highlight class="normal">{</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/>this-&gt;iu<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/>this-&gt;ip<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classDagFreeCamUtil_1ac8002876d85c3224a94c2c84d4e666df" kindref="member">hFreeCamPanel</ref>)</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classDagFreeCamUtil_1a4d10ba7ad5b924e5c287995cd38cf9e0" kindref="member">ip</ref>-&gt;DeleteRollupPage(<ref refid="classDagFreeCamUtil_1ac8002876d85c3224a94c2c84d4e666df" kindref="member">hFreeCamPanel</ref>);</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1ac8002876d85c3224a94c2c84d4e666df" kindref="member">hFreeCamPanel</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="583"><highlight class="normal">}</highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a42ab2c703e3e026f434a8529ec443ab3" kindref="member">DagFreeCamUtil::update_freecam_ui</ref>()</highlight></codeline>
<codeline lineno="587"><highlight class="normal">{</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/>HWND<sp/>hw<sp/>=<sp/><ref refid="classDagFreeCamUtil_1ac8002876d85c3224a94c2c84d4e666df" kindref="member">hFreeCamPanel</ref>;</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!hw)</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/>CheckDlgButton(hw,<sp/><ref refid="resource_8h_1a59602d18bed514e2f2353b151409ff92" kindref="member">IDC_FREECAM_ON</ref>,<sp/>freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref>);</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classDagFreeCamUtil_1ae2d74b7aa7bd13099e96b17d1e5477a2" kindref="member">cammovespeedid</ref>)</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classDagFreeCamUtil_1ae2d74b7aa7bd13099e96b17d1e5477a2" kindref="member">cammovespeedid</ref>-&gt;SetText(freecam.<ref refid="structFreeCamera_1af2ec7f7b372c623bf2182ca7d3dab88b" kindref="member">move_speed</ref>);</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classDagFreeCamUtil_1a6c0f22a7545271d4f88d42838022f681" kindref="member">camrotspeedid</ref>)</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classDagFreeCamUtil_1a6c0f22a7545271d4f88d42838022f681" kindref="member">camrotspeedid</ref>-&gt;SetText(freecam.<ref refid="structFreeCamera_1ad2fa2f3c8ed9d25703104df236b867c4" kindref="member">rot_speed</ref>);</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classDagFreeCamUtil_1a86224abd0a37910b7ddc15f806784402" kindref="member">turboid</ref>)</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classDagFreeCamUtil_1a86224abd0a37910b7ddc15f806784402" kindref="member">turboid</ref>-&gt;SetText(freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>);</highlight></codeline>
<codeline lineno="598"><highlight class="normal">}</highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1ab268988c5d7db2ca83711726d1a83430" kindref="member">DagFreeCamUtil::set_cam</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>fcmon)</highlight></codeline>
<codeline lineno="601"><highlight class="normal">{</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fcmon)</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/>;<sp/></highlight><highlight class="comment">//<sp/>no-op</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!fcmon)</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref>)</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>freecam.<ref refid="structFreeCamera_1a929ceab454762513513d31e78f24d27c" kindref="member">on</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>GetCOREInterface()-&gt;DeleteMode(&amp;freecamcm);</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(timer_id)</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>KillTimer(NULL,<sp/>timer_id);</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>timer_id<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ActionContext<sp/>*uimain<sp/>=<sp/>GetCOREInterface()-&gt;GetActionManager()-&gt;FindContext(kActionMainUIContext);</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(uimain)</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uimain-&gt;SetActive(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="618"><highlight class="normal">}</highlight></codeline>
<codeline lineno="619"><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a77cd1185bafb890d724645c0194670e0" kindref="member">DagFreeCamUtil::update_freecam_vars</ref>()</highlight></codeline>
<codeline lineno="621"><highlight class="normal">{</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/>HWND<sp/>hw<sp/>=<sp/><ref refid="classDagFreeCamUtil_1ac8002876d85c3224a94c2c84d4e666df" kindref="member">hFreeCamPanel</ref>;</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!hw)</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/>freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref><sp/>=<sp/>IsDlgButtonChecked(hw,<sp/><ref refid="resource_8h_1a59602d18bed514e2f2353b151409ff92" kindref="member">IDC_FREECAM_ON</ref>);</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1ab268988c5d7db2ca83711726d1a83430" kindref="member">set_cam</ref>(freecam.<ref refid="structFreeCamera_1a1b016aeb130f6862e668891154b18441" kindref="member">modon</ref>);</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><ref refid="freecam_8cpp_1ab0f0424bae942f9a6b4f9d4b27d6ce1d" kindref="member">get_edfloat</ref>(<ref refid="classDagFreeCamUtil_1ae2d74b7aa7bd13099e96b17d1e5477a2" kindref="member">cammovespeedid</ref>,<sp/>freecam.<ref refid="structFreeCamera_1af2ec7f7b372c623bf2182ca7d3dab88b" kindref="member">move_speed</ref>);</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><ref refid="freecam_8cpp_1ab0f0424bae942f9a6b4f9d4b27d6ce1d" kindref="member">get_edfloat</ref>(<ref refid="classDagFreeCamUtil_1a6c0f22a7545271d4f88d42838022f681" kindref="member">camrotspeedid</ref>,<sp/>freecam.<ref refid="structFreeCamera_1ad2fa2f3c8ed9d25703104df236b867c4" kindref="member">rot_speed</ref>);</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><ref refid="freecam_8cpp_1ab0f0424bae942f9a6b4f9d4b27d6ce1d" kindref="member">get_edfloat</ref>(<ref refid="classDagFreeCamUtil_1a86224abd0a37910b7ddc15f806784402" kindref="member">turboid</ref>,<sp/>freecam.<ref refid="structFreeCamera_1a3d0c96cd75dc56b5fdd2362e8421f179" kindref="member">turbo</ref>);</highlight></codeline>
<codeline lineno="630"><highlight class="normal">}</highlight></codeline>
<codeline lineno="631"><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1a007732e166d5e4f7f6e1f606fe086f39" kindref="member">DagFreeCamUtil::Init</ref>(HWND<sp/>hw)</highlight></codeline>
<codeline lineno="633"><highlight class="normal">{</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1ac8002876d85c3224a94c2c84d4e666df" kindref="member">hFreeCamPanel</ref><sp/>=<sp/>hw;</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/>freecam.<ref refid="structFreeCamera_1a5dd6948d8aba72e7943e55f925ff66a7" kindref="member">init</ref>(hw,<sp/><ref refid="classDagFreeCamUtil_1a4d10ba7ad5b924e5c287995cd38cf9e0" kindref="member">ip</ref>);</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1ae2d74b7aa7bd13099e96b17d1e5477a2" kindref="member">cammovespeedid</ref><sp/>=<sp/>GetICustEdit(GetDlgItem(hw,<sp/><ref refid="resource_8h_1a1aabb702a505b5ede280d8112bbc4ada" kindref="member">IDC_MOVE_SPEED</ref>));</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1a6c0f22a7545271d4f88d42838022f681" kindref="member">camrotspeedid</ref><sp/>=<sp/>GetICustEdit(GetDlgItem(hw,<sp/><ref refid="resource_8h_1ae713030dbe07a35948d904df8078a338" kindref="member">IDC_ROT_SPEED</ref>));</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1a86224abd0a37910b7ddc15f806784402" kindref="member">turboid</ref><sp/>=<sp/>GetICustEdit(GetDlgItem(hw,<sp/><ref refid="resource_8h_1aec4dcf5c63a639967437a176b4e5844e" kindref="member">IDC_TURBO</ref>));</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1a42ab2c703e3e026f434a8529ec443ab3" kindref="member">update_freecam_ui</ref>();</highlight></codeline>
<codeline lineno="640"><highlight class="normal">}</highlight></codeline>
<codeline lineno="641"><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classDagFreeCamUtil_1ab52061e6d71914a89cb29893d039eba9" kindref="member">DagFreeCamUtil::Destroy</ref>(HWND<sp/>hw)</highlight></codeline>
<codeline lineno="643"><highlight class="normal">{</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1a77cd1185bafb890d724645c0194670e0" kindref="member">update_freecam_vars</ref>();</highlight></codeline>
<codeline lineno="645"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>reled(e)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="646"><highlight class="preprocessor"><sp/><sp/>if<sp/>(e)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="647"><highlight class="preprocessor"><sp/><sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="648"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>ReleaseICustEdit(e);<sp/>\</highlight></codeline>
<codeline lineno="649"><highlight class="preprocessor"><sp/><sp/><sp/><sp/>e<sp/>=<sp/>NULL;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="650"><highlight class="preprocessor"><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><ref refid="freecam_8cpp_1a815ecf3470ebc2096dd717c502d8e98b" kindref="member">reled</ref>(<ref refid="classDagFreeCamUtil_1ae2d74b7aa7bd13099e96b17d1e5477a2" kindref="member">cammovespeedid</ref>);</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><ref refid="freecam_8cpp_1a815ecf3470ebc2096dd717c502d8e98b" kindref="member">reled</ref>(<ref refid="classDagFreeCamUtil_1a6c0f22a7545271d4f88d42838022f681" kindref="member">camrotspeedid</ref>);</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><ref refid="freecam_8cpp_1a815ecf3470ebc2096dd717c502d8e98b" kindref="member">reled</ref>(<ref refid="classDagFreeCamUtil_1a86224abd0a37910b7ddc15f806784402" kindref="member">turboid</ref>);</highlight></codeline>
<codeline lineno="654"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>reled</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/>freecam.<ref refid="structFreeCamera_1a46689215cc8854ef55bdfc9888bbc39b" kindref="member">destroy</ref>(hw,<sp/><ref refid="classDagFreeCamUtil_1a4d10ba7ad5b924e5c287995cd38cf9e0" kindref="member">ip</ref>);</highlight></codeline>
<codeline lineno="656"><highlight class="normal">}</highlight></codeline>
<codeline lineno="657"><highlight class="normal"></highlight></codeline>
<codeline lineno="658"><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><ref refid="classDagFreeCamUtil_1a6717b71a8a00af77efceb7a27981bc6d" kindref="member">DagFreeCamUtil::DagFreeCamUtil</ref>()</highlight></codeline>
<codeline lineno="660"><highlight class="normal">{</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/>_tcscpy(<ref refid="classDagFreeCamUtil_1ae175134fda7d05320b83a5628774714c" kindref="member">clsname</ref>,<sp/>_T(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1af8310c4f3a39bb94e4c7da55be340d64" kindref="member">iu</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1a4d10ba7ad5b924e5c287995cd38cf9e0" kindref="member">ip</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1ac8002876d85c3224a94c2c84d4e666df" kindref="member">hFreeCamPanel</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><ref refid="classDagFreeCamUtil_1a86224abd0a37910b7ddc15f806784402" kindref="member">turboid</ref><sp/>=<sp/><ref refid="classDagFreeCamUtil_1ae2d74b7aa7bd13099e96b17d1e5477a2" kindref="member">cammovespeedid</ref><sp/>=<sp/><ref refid="classDagFreeCamUtil_1a6c0f22a7545271d4f88d42838022f681" kindref="member">camrotspeedid</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="666"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="freecam.cpp"/>
  </compounddef>
</doxygen>
